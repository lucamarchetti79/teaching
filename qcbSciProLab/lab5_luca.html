

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data structures &mdash; QCB Scientific Programming Lab</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/js/jupman.js"></script>
        <script type="text/javascript" src="_static/js/pytutor-embed.bundle.min.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/jupman.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/jupman-web.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="toc-page.html" class="icon icon-home"> QCB Scientific Programming Lab
          

          
          </a>

          
            
            
              <div class="version">
                dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Scientific Programming for QCB</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#General-Info">General Info</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#Timetable-and-lecture-rooms">Timetable and lecture rooms</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#Zoom-links">Zoom links</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#Equipment">Equipment</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#Acknowledgements">Acknowledgements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical1.html">Module 1, Practical 1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical1.html#Setting-up-the-environment">Setting up the environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical1.html#Linux-on-windows">Linux on windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical1.html#A-dual-boot-system">A dual boot system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical1.html#Our-toolbox">Our toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical1.html#Installing-Python3-in-Linux">Installing Python3 in Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical1.html#Installing-Python3-in-Windows/Mac">Installing Python3 in Windows/Mac</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical1.html#OPTION-1:">OPTION 1:</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical1.html#OPTION-2-(easier):">OPTION 2 (easier):</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical1.html#The-console">The console</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical1.html#Visual-Studio-Code">Visual Studio Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical1.html#The-debugger">The debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical1.html#A-quick-Jupyter-primer-(just-for-your-information,-skip-if-not-interested)">A quick Jupyter primer (just for your information, skip if not interested)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical1.html#Installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical1.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical2.html">Module 1, Practical 2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical2.html#Modules">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical2.html#Objects">Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical2.html#Variables">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical2.html#Numeric-types">Numeric types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical2.html#Integers">Integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical2.html#Booleans">Booleans</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical2.html#Real-numbers">Real numbers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical2.html#Strings">Strings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical2.html#Methods-for-the-str-object">Methods for the str object</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical2.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical3.html">Module 1, Practical 3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical3.html#Lists">Lists</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical3.html#Operators-for-lists">Operators for lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical3.html#Methods-of-the-class-list">Methods of the class list</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical3.html#From-strings-to-lists,-the-split-method">From strings to lists, the <code class="docutils literal notranslate"><span class="pre">split</span></code> method</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical3.html#And-back-to-strings-with-the-join-method">And back to strings with the <code class="docutils literal notranslate"><span class="pre">join</span></code> method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical3.html#Tuples">Tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical3.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical4.html">Module 1, Practical 4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical4.html#Execution-flow">Execution flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical4.html#Conditionals">Conditionals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical4.html#The-basic-if---else-statement">The basic <em>if - else</em> statement</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical4.html#The-if---elif---else-statement">The <em>if - elif - else</em> statement</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical4.html#Loops">Loops</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical4.html#For-loop">For loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical4.html#Looping-over-a-range">Looping over a range</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical4.html#Nested-for-loops">Nested for loops</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical4.html#While-loops">While loops</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical4.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical5.html">Module 1, Practical 5</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical5.html#More-on-loops">More on loops</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical5.html#Ternary-operator">Ternary operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical5.html#Break-and-continue">Break and continue</a><ul>
<li class="toctree-l4"><a class="reference internal" href="M1_practical5.html#Continue-statement">Continue statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="M1_practical5.html#Break-statement">Break statement</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical5.html#List-comprehension">List comprehension</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical5.html#Dictionaries">Dictionaries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical5.html#Functions-working-on-dictionaries">Functions working on dictionaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical5.html#Dictionary-methods">Dictionary methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical5.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical6.html">Module 1, Practical 6</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical6.html#Functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical6.html#Namespace-and-variable-scope">Namespace and variable scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical6.html#Argument-passing">Argument passing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical6.html#Positional-arguments">Positional arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical6.html#Passing-arguments-by-keyword">Passing arguments by keyword</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical6.html#Specifying-default-values">Specifying default values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical6.html#File-input-and-output">File input and output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical6.html#Opening-a-file">Opening a file</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical6.html#Closing-a-file">Closing a file</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical6.html#Reading-from-a-file">Reading from a file</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical6.html#Writing-to-a-file">Writing to a file</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical6.html#String-formatting-with-format">String formatting with format</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical6.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical7.html">Module 1, Practical 7</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical7.html#Recursive-functions">Recursive functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical7.html#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical8.html">Module 1, Practical 8</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical8.html#Functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical8.html#Getting-input-from-the-command-line">Getting input from the command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical8.html#Argparse">Argparse</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical8.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical9.html">Module 1, Practical 9</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical9.html#Libraries-installation">Libraries installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical9.html#Pandas">Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical9.html#Series">Series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#How-to-define-and-access-a-Series">How to define and access a Series</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Operator-broadcasting">Operator broadcasting</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Filtering">Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Missing-data">Missing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Computing-stats">Computing stats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical9.html#Plotting-data">Plotting data</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical9.html#Pandas-DataFrames">Pandas DataFrames</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Define-a-DataFrame">Define a DataFrame</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Loading-data-from-external-files">Loading data from external files</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Extract-values-by-row-and-column">Extract values by row and column</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Broadcasting,-filtering-and-computing-stats">Broadcasting, filtering and computing stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Merging-DataFrames">Merging DataFrames</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical9.html#Grouping">Grouping</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical9.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical10.html">Module 1, Practical 10</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Numpy">Numpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Numpy-ndarray">Numpy ndarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Random-arrays">Random arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Numpy-to-and-from-pandas">Numpy to and from pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Reshaping">Reshaping</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Iterating-over-arrays-and-Indexing">Iterating over arrays and Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Broadcasting-and-arithmetic-functions">Broadcasting and arithmetic functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Filtering">Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Linear-algebra">Linear algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Matplotlib">Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical10.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical11.html">Module 1, Practical 11</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical11.html#Biopython">Biopython</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical11.html#Installation-of-Biopython">Installation of Biopython</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical11.html#General-overview">General overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical11.html#Sequence-objects">Sequence objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical11.html#Looping,-slicing-and-concatenation">Looping, slicing and concatenation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#Complement-and-reverse-complement">Complement and reverse complement</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#Transcription-and-translation">Transcription and translation</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#MutableSeq">MutableSeq</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical11.html#Sequence-annotation">Sequence annotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical11.html#Sequence-I/O">Sequence I/O</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#BioSeqIO.parse()">BioSeqIO.parse()</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#Sequences-as-dictionaries">Sequences as dictionaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#Writing-sequence-files">Writing sequence files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical11.html#Multiple-sequence-alignment">Multiple sequence alignment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#Parsing-multiple-sequence-alignments">Parsing multiple sequence alignments</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#Writing-multiple-sequence-alignments">Writing multiple sequence alignments</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#Manipulating-alignments">Manipulating alignments</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical11.html#Biopython’s-pairwise2-alignment">Biopython’s pairwise2 alignment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical11.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M1_practical12.html">Module 1, Practical 12</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M1_practical12.html#Biopython">Biopython</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical12.html#BLAST">BLAST</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M1_practical12.html#The-function-qblast">The function qblast</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical12.html#Parsing-qblast-output">Parsing qblast output</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical12.html#Saving-results-to-file">Saving results to file</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical12.html#Open-a-blast-.XML-file">Open a blast .XML file</a></li>
<li class="toctree-l3"><a class="reference internal" href="M1_practical12.html#The-BLAST-record-class">The BLAST record class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical12.html#Getting-data-from-NCBI">Getting data from NCBI</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical12.html#Getting-data-from-ExPASy">Getting data from ExPASy</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical12.html#3D-structure-and-PDB">3D structure and PDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="M1_practical12.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical1.html">Module 2, Practical 1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical1.html#Object-Oriented-Programming">Object Oriented Programming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical1.html#Classes,-Methods-and-Objects">Classes, Methods and Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical1.html#Self">Self</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical1.html#Definition-of-a-class">Definition of a class</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical1.html#The-life-cycle-of-classes-and-objects-in-a-program:">The life-cycle of classes and objects in a program:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical1.html#Encapsulation">Encapsulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical1.html#Special-methods">Special methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical1.html#Inheritance-and-overriding">Inheritance and overriding</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical1.html#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical1.html#Lambda-functions">Lambda functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical1.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical2.html">Module 2, Practical 2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical2.html#Testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical2.html#Unit-testing">Unit testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical2.html#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical2.html#Measuring-time">Measuring time</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical2.html#id1">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical2.html#Measuring-memory">Measuring memory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical2.html#id2">Exercise</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical3.html">Module 2, Practical 3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical3.html#Complexity">Complexity</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical3.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical4.html">Module 2, Practical 4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical4.html#Regular-expressions">Regular expressions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical4.html#Basic-Patterns">Basic Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical4.html#Group-extraction">Group extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical4.html#Exercises">Exercises</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical4.html#re.compile">re.compile</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical4.html#Substitution">Substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical4.html#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical4.html#id1">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical5.html">Module 2, Practical 5</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical5.html#Sorting-algorithms">Sorting algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical5.html#Selection-sort">Selection sort</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical5.html#A-base-class-for-sorting-algorithms">A base class for sorting algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical5.html#Exercise-(implementation)">Exercise (implementation)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical5.html#Insertion-sort">Insertion sort</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical5.html#id1">Exercise (implementation)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical5.html#Merge-sort-and-Quick-sort">Merge sort and Quick sort</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical5.html#Merge-sort">Merge sort</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical5.html#Exercise-(Implementation)">Exercise (Implementation)</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical5.html#Quick-sort">Quick sort</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical5.html#id3">Exercise (Implementation)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical5.html#Exercise-(algorithm-benchmark)">Exercise (algorithm benchmark)</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical5.html#Reflection">Reflection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical5.html#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical5.html#Exercise-(Counting-Sort)">Exercise (Counting Sort)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical6.html">Module 2, Practical 6</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical6.html#Data-structures">Data structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical6.html#Abstract-Data-Types-(ADTs)">Abstract Data Types (ADTs)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="M2_practical6.html#ADT:-Sequence">ADT: Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="M2_practical6.html#ADT:-Set">ADT: Set</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical6.html#Exercise-(set-implementation)">Exercise (set implementation)</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical6.html#ADT:-dictionary">ADT: dictionary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical6.html#Linked-lists">Linked lists</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical6.html#Example:-bidirectional-linked-list">Example: bidirectional linked list</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical6.html#Exercise-(complete-bidirectional-list)">Exercise (complete bidirectional list)</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical6.html#Exercise-(circular-list)">Exercise (circular list)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical6.html#Stacks">Stacks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical6.html#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical6.html#Queues">Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical6.html#Collections">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical6.html#id1">Exercise</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical7.html">Module 2, Practical 7</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical7.html#Trees">Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical7.html#ADT:-Binary-Tree">ADT: Binary Tree</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical7.html#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical7.html#Tree-visit">Tree visit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical7.html#Binary-Tree-visits:-DFS">Binary Tree visits: DFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical7.html#Binary-Tree-visits:-BFS">Binary Tree visits: BFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical7.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical7.html#ADT:-Generic-Tree">ADT: Generic Tree</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical7.html#Exercise-(implementation)">Exercise (implementation)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical8.html">Module 2, Practical 8</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical8.html#Graphs">Graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical8.html#Graph-ADT">Graph ADT</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical8.html#Implementation-as-adjacency-matrix">Implementation as adjacency matrix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical8.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical8.html#Implementation-as-(adjacency)-linked-list">Implementation as (adjacency) linked list</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical8.html#id1">Exercises</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical9.html">Module 2, Practical 9</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical9.html#Graphs-recap">Graphs recap</a></li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical9.html#Visits">Visits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical9.html#Depth-First-Search-(DFS)">Depth First Search (DFS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical9.html#Exercises">Exercises</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical9.html#Breadth-First-Search-(BFS)">Breadth First Search (BFS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="M2_practical9.html#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical9.html#id1">Exercise</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical10.html">Module 2, Practical 10</a><ul>
<li class="toctree-l2"><a class="reference internal" href="M2_practical10.html#Dynamic-programming">Dynamic programming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical10.html#Excercise">Excercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical10.html#Finding-(the-optimal)-overlaps-among-DNA-strings">Finding (the optimal) overlaps among DNA strings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical10.html#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="M2_practical10.html#Greedy-programming">Greedy programming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="M2_practical10.html#Exercises">Exercises</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="toc.html"> </a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="toc-page.html">QCB Scientific Programming Lab</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          


    <div id='jupman-langs'></div>

    <!-- SMALL TEMPLATE FOR LANGUAGES (VERY CUSTOM FOR softpython.org !!)
    <script>
    var hn = window.location.hostname;
    var pn = window.location.pathname;

    if (hn.includes('softpython.org')){
        JUPMAN_LANG = hn.slice(0,window.location.hostname.indexOf('.'));
    } else if (pn.includes('/_build/html')){
        var pos = pn.indexOf('/_build/html');
        JUPMAN_LANG = pn.slice(pos-2, pos);
    } else {
        JUPMAN_LANG = 'en';
    }
    console.log('JUPMAN_LANG=',JUPMAN_LANG);
    </script>
    -->
    
    
     <!-- <li> <h2 style="background-color:red; color:yellow">WARNING! THIS VERSION IS OLD !  <br/>
    <a style=" text-decoration: underline;" href="https://jupman.readthedocs.io/en/latest">GOT TO LATEST VERSION</a></li>
 </h2></li>-->
    <!-- Commented because doesn't work with sections,
         see https://github.com/DavidLeoni/jupman/issues/39
    <li><a href="toc-page.html">Docs</a> &raquo;</li>
    
    <li>Data structures</li>
    -->

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Data-structures">
<h1>Data structures<a class="headerlink" href="#Data-structures" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line">How do we arrange data within our programs depends on the operations we want to perform on them. To be as effective as possible, we should pick the data structure that gives:</div>
<div class="line">- the <em>most efficient access</em> to the data according to the operations we intend to perform on the data, and - use the <em>least amount of memory</em> in the process.</div>
</div>
<p>Programming languages provide many different data structures (e.g. lists, dictionaries, etc) which have different features and performance (both in terms of speed and memory consumption).</p>
<p>To decide which data type suits our needs better, we need to know the different features of the various datatypes that are available (or that we can implement).</p>
<p><strong>Example</strong>: Inserting data into a Python list.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">listInsert</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
    <span class="n">myList</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
        <span class="n">myList</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">myList</span><span class="p">)):</span>
        <span class="n">myList</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">listAppend</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
    <span class="n">myList</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
        <span class="n">myList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">myList</span><span class="p">)):</span>
        <span class="n">myList</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">listInsert</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List insert took </span><span class="si">{:.03f}</span><span class="s2">s&quot;</span><span class="o">.</span> <span class="nb">format</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;With 20000 elements...&quot;</span><span class="p">)</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">listInsert</span><span class="p">(</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List insert took </span><span class="si">{:.03f}</span><span class="s2">s&quot;</span><span class="o">.</span> <span class="nb">format</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;------------------&quot;</span><span class="p">)</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">listAppend</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List append took </span><span class="si">{:.03f}</span><span class="s2">s&quot;</span><span class="o">.</span> <span class="nb">format</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;With 20000 elements...&quot;</span><span class="p">)</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">listAppend</span><span class="p">(</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List append took </span><span class="si">{:.03f}</span><span class="s2">s&quot;</span><span class="o">.</span> <span class="nb">format</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
List insert took 0.000s
With 20000 elements...
List insert took 0.255s
------------------
List append took 0.001s
With 20000 elements...
List append took 0.006s
</pre></div></div>
</div>
<p>The behaviour above is due to the fact that adding an element at the beginning of the list with <code class="docutils literal notranslate"><span class="pre">list.insert(0,element)</span></code> and <code class="docutils literal notranslate"><span class="pre">list.pop(0)</span></code> end up with python having to move all the elements present in the list to make room for the new element or to adjust the list when we remove it.</p>
<p>By adding and removing from the back of the list we are actually a lot faster. Later on we will also see the <code class="docutils literal notranslate"><span class="pre">collections.deque</span></code> data structure, that allows for quick operations on lists.</p>
<p><em>How can we analyze and compare different data types?</em></p>
<div class="section" id="Abstract-Data-Types-(ADTs)">
<h2>Abstract Data Types (ADTs)<a class="headerlink" href="#Abstract-Data-Types-(ADTs)" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">ADTs are a mathematical description of a strategy to store the data and operations that can be performed on the data (in abstract terms, without focusing on implementation).</div>
<div class="line"><em>Abstract data types</em> provide the specifications of what the data types should look like/behave.</div>
</div>
<p>Some examples taken from the lectures:</p>
<div class="section" id="ADT:-Sequence">
<h3>ADT: Sequence<a class="headerlink" href="#ADT:-Sequence" title="Permalink to this headline">¶</a></h3>
<p>A sequence is a dynamic data structure (no limit on the number of elements) that contains (possibly repeated) sorted elements (sorted not by the value of the elements, but based on their position within the structure). Allowed operations are: - <em>remove</em> elements by their index (index) - <em>directly access</em> some elements like the first or the last (<em>head</em> and <em>tail</em>) or given their index (position) - <em>sequentially access</em> all the elements moving forward (<em>next</em>) or backwards (<em>previous</em>) in the
structure.</p>
<p>Full specification of the sequence ADT (from the lecture):</p>
<img alt="img1" src="_images/sequenceADT.png" />
</div>
<div class="section" id="ADT:-Set">
<h3>ADT: Set<a class="headerlink" href="#ADT:-Set" title="Permalink to this headline">¶</a></h3>
<p>Sets are dynamic data structures that contain <strong>non-repeated</strong> elements in <strong>no specific order</strong>. Allowed operations are: - <em>insert</em>, <em>delete</em> and <em>contains</em> to add, remove or test the presence of an element in the set. - <em>minimum</em> and <em>maximum</em> to retrieve the minimum and maximum element (based on values) - it should be possible to <em>iterate</em> through the elements in the set (in no specific order) with something like <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">el</span> <span class="pre">in</span> <span class="pre">set:</span></code>.</p>
<p>Finally, some operations are defined on two sets like: <em>union</em>, <em>intersection</em>, <em>difference</em>.</p>
<p>Full specification of the set ADT (from the lecture):</p>
<img alt="img2" src="_images/setADT.png" />
<div class="line-block">
<div class="line">Python already provides the <code class="docutils literal notranslate"><span class="pre">set</span></code> data structure.</div>
<div class="line">Let’s see how to define and interact with a set through some examples:</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#empty set</span>
<span class="n">a</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Pippo&quot;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Paperino&quot;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Minni&quot;</span><span class="p">)</span>

<span class="c1">#adding the same element twice...</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Pippo&quot;</span><span class="p">)</span>
<span class="c1">#..has no effect</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1">#a set from a list of values</span>
<span class="n">myList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">121</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">121</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">List: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">myList</span><span class="p">))</span>
<span class="n">S</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">myList</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Set: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>

<span class="c1">#accessing elements:</span>
<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">element: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is 44 in S? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">44</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is 121 in S? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">121</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>

<span class="c1">#from strings</span>
<span class="n">S1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;abracadabra&quot;</span><span class="p">)</span>
<span class="n">S2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;AbbadabE&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">S1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Intersection(S1,S2): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span> <span class="o">&amp;</span> <span class="n">S2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Union(S1,S2): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span> <span class="o">|</span> <span class="n">S2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">In S1 but not in S2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span> <span class="o">-</span> <span class="n">S2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;In S2 but not in S1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S2</span> <span class="o">-</span> <span class="n">S1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">In S1 or S2 but not in both: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span> <span class="o">^</span> <span class="n">S2</span><span class="p">))</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
set()
{&#39;Minni&#39;, &#39;Pippo&#39;, &#39;Paperino&#39;}
{&#39;Minni&#39;, &#39;Pippo&#39;, &#39;Paperino&#39;}

List: [121, 5, 4, 1, 1, 4, 2, 121]
Set: {1, 2, 4, 5, 121}
        element: 1
        element: 2
        element: 4
        element: 5
        element: 121
Is 44 in S? False
Is 121 in S? True

S1: {&#39;a&#39;, &#39;d&#39;, &#39;c&#39;, &#39;r&#39;, &#39;b&#39;}
S2: {&#39;a&#39;, &#39;d&#39;, &#39;E&#39;, &#39;A&#39;, &#39;b&#39;}

Intersection(S1,S2): {&#39;a&#39;, &#39;d&#39;, &#39;b&#39;}

Union(S1,S2): {&#39;a&#39;, &#39;d&#39;, &#39;c&#39;, &#39;E&#39;, &#39;A&#39;, &#39;r&#39;, &#39;b&#39;}

In S1 but not in S2: {&#39;c&#39;, &#39;r&#39;}
In S2 but not in S1: {&#39;E&#39;, &#39;A&#39;}

In S1 or S2 but not in both: {&#39;c&#39;, &#39;E&#39;, &#39;A&#39;, &#39;r&#39;}
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Exercise">
<h2>Exercise<a class="headerlink" href="#Exercise" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Write a simple MySet class that implements the abstract data type <strong>set</strong>. Use a dictionary as internal data structure (hint: you can put the element as key of the dictionary and the value as “1”). For simplicity, the object should be constructed by passing to it a list of elements (e.g. S = mySet([1,2,3]).</p></li>
</ol>
<p>The ADT of the set structure is (i.e. the methods to implement):</p>
<img alt="img3" src="_images/setADT.png" />
<p>Implement the <strong>iterator</strong> interface that <strong>yields</strong> the next elements. Implement a special method “_ <em>contains</em> _” to test if an element is present with <strong>el in S</strong>.</p>
<p>Test the code with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>S = MySet([33, 1,4,5,7,5,5,5,4,7,3])
print(&quot;Initial S: {}&quot;.format(S))
S.add(125)
S.discard(77)
S.discard(5)
print(&quot;S now: {}&quot;.format(S))
print(&quot;Does S contain 13? {}&quot;.format(13 in S))
print(&quot;Does S contain 125? {}&quot;.format(125 in S))
print(&quot;All elements in S:&quot;)
for s in S:
    print(&quot;\telement: {}&quot;.format(s))

print(&quot;\nS:{}&quot;.format(S))
S1 = MySet([33, 0, 3,4, 4, 33,44])
print(&quot;S1: {}&quot;.format(S1))
print(&quot;\nUnion: {}&quot;.format(S.union(S1)))
print(&quot;Intersection: {}&quot;.format(S.intersection(S1)))
print(&quot;S - S1: {}&quot;.format(S.difference(S1)))
print(&quot;S1 - S: {}&quot;.format(S1.difference(S)))
print(&quot;(S - S1) U (S1 -S): {}&quot;.format(S.difference(S1).union(S1.difference(S))))
</pre></div>
</div>
<p>and compare the results with what would give python’s built-in <code class="docutils literal notranslate"><span class="pre">set</span></code> data structure.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">reset</span> -f

<span class="k">class</span> <span class="nc">MySet</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elements</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="n">el</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1">#let&#39;s specify the special operator for len</span>
    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="c1">#this is the special operator for in</span>
    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">el</span> <span class="o">!=</span> <span class="kc">None</span>

    <span class="c1">#we do not redefine __add_ because that is for S1 + S2</span>
    <span class="c1">#where S1 and S2 are sets</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="c1">#dont care if already there</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="n">element</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">discard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="c1">#equivalent to:</span>
        <span class="c1">#if element in self.__data: del self.__data[element]</span>
        <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span> <span class="o">&gt;</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">()</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">keys</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="k">return</span> <span class="s2">&quot;{&quot;</span><span class="o">+</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">]))</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span>

    <span class="k">def</span> <span class="nf">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;elements in either of the two sets&quot;&quot;&quot;</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="n">S</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="n">i</span><span class="o">=</span><span class="mi">0</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">S</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">S</span>

    <span class="k">def</span> <span class="nf">intersection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;elements in both sets&quot;&quot;&quot;</span>
        <span class="sd">&quot;&quot;&quot;elements in both sets&quot;&quot;&quot;</span>
        <span class="n">my_keys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="n">your_keys</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="n">inter</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">my_keys</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">your_keys</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">MySet</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">difference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;elements in self but not in other&quot;&quot;&quot;</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">other</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">MySet</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>

    <span class="n">S</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initial S: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
    <span class="n">S</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">125</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">77</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S now: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Does S contain 13? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">13</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Does S contain 125? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">125</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All elements in S:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">element: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">S: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
    <span class="n">S1</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span><span class="mi">44</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Union: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">S1</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Intersection: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">S1</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S - S1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S1</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S1 - S: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(S - S1) U (S1 -S): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S1</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">S1</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S</span><span class="p">))))</span>

    <span class="c1">#### Test vs python&#39;s set</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Testing python&#39;s builtin:&quot;</span><span class="p">)</span>
    <span class="n">pS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">pS</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">125</span><span class="p">)</span>
    <span class="c1">#pS.remove(77)</span>
    <span class="n">pS</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pS: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span><span class="p">))</span>
    <span class="n">pS1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span><span class="mi">44</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pS1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS1</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Union: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span> <span class="o">|</span> <span class="n">pS1</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Intersection: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span> <span class="o">&amp;</span> <span class="n">pS1</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pS - pS1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span> <span class="o">-</span> <span class="n">pS1</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pS1 - pS: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS1</span> <span class="o">-</span> <span class="n">pS</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(pS - pS1) U (pS1 -pS): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span> <span class="o">-</span> <span class="n">pS1</span> <span class="o">|</span> <span class="n">pS1</span> <span class="o">-</span> <span class="n">pS</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Dictionaries map keys to values and allow insertion, removal and lookup:</p>
<img alt="img4" src="_images/dictionaryADT.png" />
<p>Linked lists are collections of objects and pointers (either 1 or 2) that point to the <em>next</em> element in the list or to <em>both the next and previous</em> element in the list.</p>
<p>Linked lists can be <strong>linear</strong> or <strong>circular</strong> when the last element is connected to the first and only a fixed amount of elements is allowed and then newly-added elements replace previous ones.</p>
<p>They can be <strong>bidirectional</strong> if from one element one can move to the <strong>previous</strong> and to the <strong>next</strong> or <strong>monodirectional</strong> when it is possible only to go to the <strong>next</strong> element.</p>
<p>Here are some of the possible types of list (from the lecture):</p>
<img alt="img5" src="_images/linked_lists.png" />
<p>The operations that can be performed on lists, and the associated costs, are:</p>
<img alt="img6" src="_images/list_costs.png" />
</div>
<div class="section" id="Example:-bidirectional-linked-list">
<h2>Example: bidirectional linked list<a class="headerlink" href="#Example:-bidirectional-linked-list" title="Permalink to this headline">¶</a></h2>
<p>Let’s implement a bidirectional linked list of objects of type “Node” (that contain attributes: <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">prevEl</span></code> and <code class="docutils literal notranslate"><span class="pre">nextEl</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">reset</span> -f

<span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">getData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span>
    <span class="k">def</span> <span class="nf">setData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newdata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">newdata</span>

    <span class="c1"># next element</span>
    <span class="k">def</span> <span class="nf">setNext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="n">node</span>
    <span class="k">def</span> <span class="nf">getNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span>

    <span class="c1"># previous element</span>
    <span class="k">def</span> <span class="nf">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span> <span class="o">=</span> <span class="n">node</span>
    <span class="k">def</span> <span class="nf">getPrev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="c1"># for sorting</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">__data</span>


<span class="k">class</span> <span class="nc">BiLinkList</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span>
    <span class="k">def</span> <span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span>
    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">!=</span> <span class="n">Node</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;node is not of type Node&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="c1"># this assumes that nodes can be sorted</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">&gt;</span> <span class="n">node</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">&lt;</span> <span class="n">node</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="c1"># to avoid index problems, if i is out of bounds</span>
        <span class="c1"># we insert at beginning or end</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="c1">#I know that it is after tail!</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1">#add node before cur_el</span>
        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
            <span class="c1">#add before current head</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1">#add after tail</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()</span>
                <span class="n">p</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
                <span class="n">cur_el</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1">#This assumes that nodes can be sorted</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">&gt;</span> <span class="n">node</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">&lt;</span> <span class="n">node</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">getAtIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
            <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="n">i</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">cur_el</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">cur_el</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dta</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dta</span> <span class="o">+=</span> <span class="s2">&quot; &lt;-&gt; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
                <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dta</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">random</span>
    <span class="n">MLL</span> <span class="o">=</span> <span class="n">BiLinkList</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">MLL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span>
                                            <span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                            <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span>
                                            <span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                            <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of elements: </span><span class="si">{}</span><span class="s2"> min: </span><span class="si">{}</span><span class="s2">  max: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">MLL</span><span class="p">),</span>
                                                           <span class="n">MLL</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
                                                           <span class="n">MLL</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
    <span class="n">N</span> <span class="o">=</span> <span class="n">MLL</span><span class="o">.</span><span class="n">getAtIndex</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MLL[4] = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moving backwards </span><span class="si">{}</span><span class="s2"> steps from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">I find node: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()))</span>
        <span class="n">N</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 &lt;-&gt; 11 &lt;-&gt; 21 &lt;-&gt; 31 &lt;-&gt; 41
        1 prev:None next:11
        11 prev:1 next:21
        21 prev:11 next:31
        31 prev:21 next:41
        41 prev:31 next:None
1000 &lt;-&gt; 1 &lt;-&gt; 11 &lt;-&gt; 2 &lt;-&gt; 21 &lt;-&gt; 31 &lt;-&gt; 41 &lt;-&gt; -10 &lt;-&gt; 27
        1000 prev:None next:1
        1 prev:1000 next:11
        11 prev:1 next:2
        2 prev:11 next:21
        21 prev:2 next:31
        31 prev:21 next:41
        41 prev:31 next:-10
        -10 prev:41 next:27
        27 prev:-10 next:None
Number of elements: 9 min: -10  max: 1000
MLL[4] = 21
Moving backwards 1 steps from 21
        I find node: 2
Moving backwards 2 steps from 2
        I find node: 11
Moving backwards 3 steps from 11
        I find node: 1
</pre></div></div>
</div>
</div>
<div class="section" id="id1">
<h2>Exercise<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="2">
<li><p>Complete the bidirectional linked list example seen above by adding the following methods:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">remove(x)</span></code> method that removes element x from the list if present</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slice(x,y)</span></code> where <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are integers. The slice method should return another bidirectionaly linked list with elements from <code class="docutils literal notranslate"><span class="pre">x</span></code> (included) to <code class="docutils literal notranslate"><span class="pre">y</span></code> (excluded).</p></li>
</ul>
<div class="tggle" onclick="toggleVisibility(&#39;ex0&#39;);"><p>Show/Hide Solution</p>
</div><div id="ex0" style="display:none;"><div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>


<span></span><span class="o">%</span><span class="k">reset</span> -f

<span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">getData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span>

    <span class="k">def</span> <span class="nf">setData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newdata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">newdata</span>

    <span class="k">def</span> <span class="nf">setNext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">getNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span>

    <span class="k">def</span> <span class="nf">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span> <span class="o">=</span> <span class="n">node</span>
    <span class="k">def</span> <span class="nf">getPrev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>
    <span class="c1">#for sorting</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">__data</span>


<span class="k">class</span> <span class="nc">BiLinkList</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span>
    <span class="k">def</span> <span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span>
    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">!=</span> <span class="n">Node</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;node is not of type Node&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="c1">#This assumes that nodes can be sorted</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">&gt;</span> <span class="n">node</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">&lt;</span> <span class="n">node</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="c1"># to avoid index problems, if i is out of bounds</span>
        <span class="c1"># we insert at beginning or end</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="c1">#I know that it is after tail!</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1">#add node before cur_el</span>
        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
            <span class="c1">#add before current head</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1">#add after tail</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()</span>
                <span class="n">p</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
                <span class="n">cur_el</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1">#This assumes that nodes can be sorted</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">&gt;</span> <span class="n">node</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">&lt;</span> <span class="n">node</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">getAtIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
            <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="n">i</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">cur_el</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">cur_el</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dta</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dta</span> <span class="o">+=</span> <span class="s2">&quot; &lt;-&gt; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
                <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dta</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="c1">###################################################</span>
    <span class="c1">################### NEW METHODS ###################</span>
    <span class="c1">###################################################</span>
    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
            <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="n">element</span> <span class="ow">and</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">n</span>

                <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">p</span>

                <span class="k">if</span> <span class="n">n</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">n</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">p</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">p</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">-=</span> <span class="mi">1</span>


    <span class="k">def</span> <span class="nf">slice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
        <span class="n">M</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">m</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">:</span>
                <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
                <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">nList</span> <span class="o">=</span> <span class="n">BiLinkList</span><span class="p">()</span>

            <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">M</span> <span class="ow">and</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">cur_el</span><span class="o">.</span><span class="n">getData</span><span class="p">())</span>
                    <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
                    <span class="n">nList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
                    <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">nList</span>

    <span class="c1">###################################################</span>
    <span class="c1">############### END NEW METHODS ###################</span>
    <span class="c1">###################################################</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">random</span>
    <span class="n">MLL</span> <span class="o">=</span> <span class="n">BiLinkList</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">MLL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span><span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                            <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span><span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                            <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of elements: </span><span class="si">{}</span><span class="s2"> min: </span><span class="si">{}</span><span class="s2">  max: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">MLL</span><span class="p">),</span>
                                                           <span class="n">MLL</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
                                                           <span class="n">MLL</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">MLL</span><span class="o">.</span><span class="n">getAtIndex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MLL[3] = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> removed!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span><span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                            <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>

    <span class="n">n</span> <span class="o">=</span> <span class="n">MLL</span><span class="o">.</span><span class="n">getAtIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MLL[0] = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> removed!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span><span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                            <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>

    <span class="c1">#slice:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Slice[2,4]:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

    <span class="c1">#slice:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Slice[3,15]:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>

    <span class="c1">#Removing all elements now.</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Remove all&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">MLL</span><span class="p">)):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">MLL</span><span class="o">.</span><span class="n">getAtIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">MLL</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> removed!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div></div>
<div class="section" id="id2">
<h2>Exercise<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="3">
<li><p>Implement a circular single-directional linked list of objects SingleNode (that have a data and a link to the next element) with the following methods:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">append(element)</span></code> : adds at the end of the list;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extend(list_of_elements)</span></code> : adds all the elements in the list</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get(index)</span></code> : reads the node at position index (if index is lower than length else return None);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">removeAt(index)</span></code> : removes the element at position index if it exists;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">removeEl(el)</span></code> : removes the element el, if present.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">head()</span></code> : gets the first element of the list;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tail()</span></code> : gets the last element of the list;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__len__()</span></code> : returns the length of the list;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__str__()</span></code> : returns a string representation of the list:</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1 --&gt; 2 --&gt; 3 --&gt; ... N --|
^-------------------------|
</pre></div>
</div>
<p>Remember that a circular list should always have the last element (tail) pointing to the first element (head):</p>
<img alt="img7" src="_images/circular_list.png" />
<p>Test your class with the following code:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CL = CircularList()
n = SingleNode([1])
n1 = SingleNode(2)
n2 = SingleNode([3])
n3 = SingleNode([4])
n4 = SingleNode(5)
n5 = SingleNode([6])
CL.append(n)
CL.append(n1)
CL.append(n2)
CL.extend([n3,n4,n5])
n = SingleNode(&quot;luca&quot;)
CL.append(n)
print(CL)
print(&quot;CL has length: {}&quot;.format(len(CL)))
print(&quot;Head:{}\nTail:{}&quot;.format(CL.head(),CL.tail()))
print(&quot;{} is at position: {}&quot;.format(CL.get(3),3))
print(&quot;{} is at position: {}&quot;.format(CL.get(-10),-10))
print(&quot;{} is at position: {}&quot;.format(CL.get(20),20))
print(&quot;{} is at position: {}&quot;.format(CL.get(0),0))
CL.removeAt(2)
CL.removeAt(5)
print(CL)
CL.removeEl(n5)
print(CL)
#n is not present!
CL.removeEl(n)
print(CL)
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">reset</span> -f

<span class="sd">&quot;&quot;&quot; Can place this in SingleNode.py&quot;&quot;&quot;</span>
<span class="k">class</span> <span class="nc">SingleNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">getData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span>

    <span class="k">def</span> <span class="nf">setData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newdata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">newdata</span>

    <span class="k">def</span> <span class="nf">setNext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">getNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>
    <span class="c1">#for sorting</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">__data</span>


<span class="sd">&quot;&quot;&quot;Can place this in CircularList.py&quot;&quot;&quot;</span>
<span class="k">class</span> <span class="nc">CircularList</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">!=</span> <span class="n">SingleNode</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;node is not of type SingleNode&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">extend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodesList</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">nodesList</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">head</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>

    <span class="k">def</span> <span class="nf">tail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1">#should someone input a very small number!</span>
            <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+</span> <span class="n">index</span>

        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">index</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">cur_el</span>


    <span class="k">def</span> <span class="nf">removeAt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1">#should someone input a very small number!</span>
            <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+</span> <span class="n">index</span>


        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">cur_el</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="n">prev</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
        <span class="n">next_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
        <span class="n">prev</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">next_el</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">prev</span>
        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">prev</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">removeEl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>

        <span class="k">while</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span> <span class="o">!=</span> <span class="n">element</span> <span class="ow">and</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">cur_el</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">prev</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="c1">#cur_el is element now</span>
            <span class="n">next_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">prev</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">next_el</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">prev</span>
            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">prev</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outStr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="n">outStr</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">outStr</span> <span class="o">+=</span> <span class="s2">&quot;--&gt;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">outStr</span><span class="p">)</span>
        <span class="n">outStr</span> <span class="o">+=</span> <span class="s2">&quot;--|</span><span class="se">\n</span><span class="s2">^&quot;</span>



        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">L</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">outStr</span> <span class="o">=</span> <span class="n">outStr</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">outStr</span> <span class="o">+=</span> <span class="s2">&quot;|&quot;</span>

        <span class="k">return</span> <span class="n">outStr</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">CL</span> <span class="o">=</span> <span class="n">CircularList</span><span class="p">()</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">n1</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">n2</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">n3</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">n4</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">n5</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">6</span><span class="p">])</span>
    <span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
    <span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
    <span class="n">CL</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">n3</span><span class="p">,</span><span class="n">n4</span><span class="p">,</span><span class="n">n5</span><span class="p">])</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">(</span><span class="s2">&quot;luca&quot;</span><span class="p">)</span>
    <span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CL has length: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">CL</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Head:</span><span class="si">{}</span><span class="se">\n</span><span class="s2">Tail:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">head</span><span class="p">(),</span><span class="n">CL</span><span class="o">.</span><span class="n">tail</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">),</span><span class="o">-</span><span class="mi">10</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="mi">20</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">CL</span><span class="o">.</span><span class="n">removeAt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">CL</span><span class="o">.</span><span class="n">removeAt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
    <span class="n">CL</span><span class="o">.</span><span class="n">removeEl</span><span class="p">(</span><span class="n">n5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
    <span class="c1">#n is not present!</span>
    <span class="n">CL</span><span class="o">.</span><span class="n">removeEl</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Stacks</strong> are data structures that provide access to a specific element, that is the last element inserted into the stack.</p>
<p>The specific operations available for stacks are described in the abstract data type (from the lecture):</p>
<img alt="img8" src="_images/stackADT.png" />
<p><strong>Example:</strong> Let’s implement a stack class MyStack by using Python’s list.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span><span class="k">class</span> <span class="nc">MyStack</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;adds an element on top of the stack&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;removes one element from the stack and returns it&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>




<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">S</span> <span class="o">=</span> <span class="n">MyStack</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is it empty? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initial length: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)))</span>
    <span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s2">&quot;[1,2,3]&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Added [1,2,3]&quot;</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s2">&quot;[4,5,6]&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Added [4,5,6]&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is it empty? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">()))</span>
    <span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Added [1,4,5]&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">peek</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Let&#39;s start removing elements...&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
    <span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">123456</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Added 123456&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Is it empty? True
Initial length: 0
Added [1,3,4]
Added [4,5,6]
Is it empty? False
Added [1,4,5]
On top of the stack: [1, 4, 5]
Let&#39;s start removing elements...
On top of the stack: [1, 4, 5]
On top of the stack: [4,5,6]
On top of the stack: [1,2,3]
On top of the stack: None
Added 123456
On top of the stack: 123456
On top of the stack: None
</pre></div></div>
</div>
</div>
<div class="section" id="id3">
<h2>Exercise<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="4">
<li><p>Stacks are great to evaluate postfix expressions. Some examples of postfix expressions are:</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>10 5 +
</pre></div>
</div>
<p>that encodes for <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">=</span> <span class="pre">15</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">5</span>&#160; <span class="pre">+</span> <span class="pre">7</span> <span class="pre">*</span></code> that encodes for <code class="docutils literal notranslate"><span class="pre">(10</span> <span class="pre">+</span> <span class="pre">5)</span> <span class="pre">*</span> <span class="pre">7</span> <span class="pre">=</span> <span class="pre">105</span></code></p>
<p>Given a postfix expression it can be evaluated in the following way:</p>
<ol class="arabic simple">
<li><p>start from the beginning of the string (better, list obtained by splitting by ” “), remove the first element and insert elements in the stack unless they are operators. If they are operators, pop two elements and apply the operation, storing it in a varible;</p></li>
<li><p>If the list is empty, the result is stored in the variable, otherwise go back to point 1.</p></li>
</ol>
<p>Assuming only integer numbers and the 4 standard binary operators +,-,/,*: write some python code that uses the stack class seen above <code class="docutils literal notranslate"><span class="pre">MyStack</span></code> and evaluates the following postfix expressions:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>operations = [&quot;10 5  + 7 *&quot;, &quot;1 2 3 4 5 6 7 8 + + + + + + +&quot;, &quot;1 2 3 4 5 + - * /&quot;]
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">reset</span> -f

<span class="k">class</span> <span class="nc">MyStack</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;adds an element on top of the stack&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;removes one element from the stack and returns it&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">ret</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>


<span class="k">def</span> <span class="nf">evaluatePostfix</span><span class="p">(</span><span class="n">expr</span><span class="p">):</span>
    <span class="n">S</span> <span class="o">=</span> <span class="n">MyStack</span><span class="p">()</span>
    <span class="n">els</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">infix</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">els</span><span class="p">)):</span>
        <span class="n">e</span> <span class="o">=</span> <span class="n">els</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">e</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s2">&quot;+-*/&quot;</span><span class="p">:</span>
            <span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">o2</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">o1</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">infix</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">o1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">e</span> <span class="o">+</span><span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">o2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">infix</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">e</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">o1</span> <span class="o">+</span> <span class="n">o2</span>

            <span class="k">elif</span> <span class="n">e</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">o1</span> <span class="o">-</span> <span class="n">o2</span>

            <span class="k">elif</span> <span class="n">e</span> <span class="o">==</span> <span class="s2">&quot;/&quot;</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">o1</span> <span class="o">/</span> <span class="n">o2</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">o1</span> <span class="o">*</span> <span class="n">o2</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">tmp</span>

            <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">els</span><span class="p">):</span>
                <span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>


<span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;10 5 + 7 *&quot;</span><span class="p">,</span>
              <span class="s2">&quot;1 2 3 4 5 6 7 8 + + + + + + +&quot;</span><span class="p">,</span>
              <span class="s2">&quot;1 2 3 4 5 + - * /&quot;</span><span class="p">,</span>
             <span class="s2">&quot;5 4 + 8 /&quot;</span><span class="p">,</span>
             <span class="s2">&quot;3 10 2 - 5 * +&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Operation: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">op</span><span class="p">))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">evaluatePostfix</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Result: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">res</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Operation: 10 5 + 7 *
(10 + 5)
(15 * 7)
Result: 105
Operation: 1 2 3 4 5 6 7 8 + + + + + + +
(7 + 8)
(6 + 15)
(5 + 21)
(4 + 26)
(3 + 30)
(2 + 33)
(1 + 35)
Result: 36
Operation: 1 2 3 4 5 + - * /
(4 + 5)
(3 - 9)
(2 * -6)
(1 / -12)
Result: -0.08333333333333333
Operation: 5 4 + 8 /
(5 + 4)
(9 / 8)
Result: 1.125
Operation: 3 10 2 - 5 * +
(10 - 2)
(8 * 5)
(3 + 40)
Result: 43
</pre></div></div>
</div>
<p>Queues, also called <strong>FIFO queues: first in first out queues</strong>, are linear dynamic data structures that add at the back of the queue and remove elements from the beginning.</p>
<p>The specific operations available for queues are reported below (from the lecture):</p>
<img alt="img9" src="_images/queueADT.png" />
<p><strong>Example:</strong> Let’s implement a (slow!) queue class MyQueue by using Python’s list.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">reset</span> -f

<span class="k">class</span> <span class="nc">MyQueue</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dequeue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">el</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">el</span>

    <span class="k">def</span> <span class="nf">top</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>




<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">time</span>

    <span class="n">Q</span> <span class="o">=</span> <span class="n">MyQueue</span><span class="p">()</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Size of Q: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TOP is now: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="n">top</span><span class="p">()))</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
        <span class="n">el</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Removing el </span><span class="si">{}</span><span class="s2"> from queue&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">))</span>

    <span class="n">start_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">400000</span><span class="p">):</span>
        <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Queue has size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
    <span class="c1">#comment the next 3 lines and see what happens</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
        <span class="n">el</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Queue has size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
    <span class="n">end_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Elapsed time: </span><span class="si">{:.2f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">end_t</span> <span class="o">-</span> <span class="n">start_t</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Size of Q: 3
TOP is now: 1

Removing el 1 from queue
Removing el 2 from queue
Removing el 3 from queue
Removing el 4 from queue
Removing el 5 from queue

Queue has size: 400000

Queue has size: 0

Elapsed time: 51.23s
</pre></div></div>
</div>
<p>Note that in the example above, enqueue adds at the beginning and dequeue removes from the end, this requires n shifts at each insertion, which is quite time costly!!!</p>
<p><strong>Example:</strong> Let’s implement a queue class MyQueue by using python’s list but with a quicker <strong>len</strong> operator (i.e. a counter that avoids looping all the time) and with a quicker <strong>enqueue</strong> operator.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">reset</span> -f

<span class="k">class</span> <span class="nc">MyQueue</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__length</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__length</span>

    <span class="c1">## Add at the end not at the beginning</span>
    <span class="k">def</span> <span class="nf">enqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__length</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">dequeue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">el</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__length</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">el</span>

    <span class="k">def</span> <span class="nf">top</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>




<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">time</span>

    <span class="n">Q</span> <span class="o">=</span> <span class="n">MyQueue</span><span class="p">()</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Size of Q: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TOP is now: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="n">top</span><span class="p">()))</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
        <span class="n">el</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Removing el </span><span class="si">{}</span><span class="s2"> from queue&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">))</span>

    <span class="n">start_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">400000</span><span class="p">):</span>
        <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Queue has size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
    <span class="c1">#comment the next 3 lines and see what happens</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
        <span class="n">el</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Queue has size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
    <span class="n">end_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Elapsed time: </span><span class="si">{:.2f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">end_t</span> <span class="o">-</span> <span class="n">start_t</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Size of Q: 3
TOP is now: 5

Removing el 1 from queue
Removing el 2 from queue
Removing el 3 from queue
Removing el 4 from queue
Removing el 5 from queue

Queue has size: 400000

Queue has size: 400000

Elapsed time: 0.33s
</pre></div></div>
</div>
<p>The problem with the previous code is that removing elements from the beginning of a list requires <span class="math notranslate nohighlight">\(n\)</span> shifts and therefore has a cost <span class="math notranslate nohighlight">\(O(n)\)</span>, with <span class="math notranslate nohighlight">\(n\)</span> number of elements in the list. Try commenting out the following lines:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>while not Q.isEmpty():
    el = Q.dequeue()
</pre></div>
</div>
<p>This would make the code above a lot faster (less than a second).</p>
<p>The solution is to use Python’s <code class="docutils literal notranslate"><span class="pre">collections.dequeue</span></code>.</p>
</div>
<div class="section" id="id4">
<h2>Exercise<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="5">
<li><p>Implement a faster queue by using the <code class="docutils literal notranslate"><span class="pre">collections.dequeue</span></code> collection.</p></li>
</ol>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">reset</span> -f

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">Q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
<span class="n">start_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">400000</span><span class="p">):</span>
    <span class="c1">#add to the right</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Q has </span><span class="si">{}</span><span class="s2"> elements&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="c1">#remove from the left</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Q has </span><span class="si">{}</span><span class="s2"> elements&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="n">end_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Elapsed time: </span><span class="si">{:.2f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">end_t</span> <span class="o">-</span> <span class="n">start_t</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Q has 400000 elements
Q has 0 elements

Elapsed time: 0.20s
</pre></div></div>
</div>
<p>Python provides several data structures in the <code class="docutils literal notranslate"><span class="pre">collections</span></code> module, like for example, <strong>dequeues</strong> etc. You can find more information at <a class="reference external" href="https://docs.python.org/3.5/library/collections.html?highlight=collections#module-collections">https://docs.python.org/3.9/library/collections.html?highlight=collections#module-collections</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright # 2021 - 2021, Luca Marchetti

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>