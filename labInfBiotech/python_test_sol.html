

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Esercitazione aggiuntiva - Soluzioni &mdash; Laboratorio di Informatica a.a. 2021/2022 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Laboratorio di Informatica
          

          
          </a>

          
            
            
              <div class="version">
                a.a. 2021/2022
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="shell_basics.html">Lezione 1 - Shell: Fondamentali</a></li>
<li class="toctree-l1"><a class="reference internal" href="shell_basics_sol.html">Lezione 1 - Soluzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="shell_commands1.html">Lezione 2.1 - Shell: Avanzate</a></li>
<li class="toctree-l1"><a class="reference internal" href="shell_commands1_sol.html">Lezione 2.1 - Soluzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_basics.html">Lezione 2.2 - Python: Fondamentali</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_basics_sol.html">Lezione 2.2 - Soluzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_moduli.html">Lezione 3.1 - Python: Moduli</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_numbers.html">Lezione 3.2 - Python: Numeri</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Laboratorio di Informatica</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Esercitazione aggiuntiva - Soluzioni</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/python_test_sol.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="esercitazione-aggiuntiva-soluzioni">
<h1>Esercitazione aggiuntiva - Soluzioni<a class="headerlink" href="#esercitazione-aggiuntiva-soluzioni" title="Permalink to this headline">¶</a></h1>
<p>Giunti a questo punto, dovreste essere capaci di fare il seguente esercizio:</p>
<div class="section" id="esercizio">
<h2>Esercizio<a class="headerlink" href="#esercizio" title="Permalink to this headline">¶</a></h2>
<p>Scrivete un <strong>modulo</strong> python che data in input la sequente seq di DNA:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DNA</span> <span class="o">=</span> <span class="s2">&quot;tatgtaaactgccaaggtgaacgttggaatcacctcgtatgtgactcgcgtgtgacctggatactgtcaaaccaggtcaggaaagcctatgagtacgagc&quot;</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>conti le frequenze di a,c,g,t normalizzate (numero di occorrenze di a diviso lunghezza della stringa. Es: se ci sono 30 “a” e la stringa è lunga 60, la frequenaza normalizzata di “a” è uguale a 30/60 = 0.5)</p></li>
<li><p>stampi il DNA ordinato (es “aaaaaaaaaccccccccgggggggttttt”)</p></li>
<li><p>create un array chiamato <strong>array_DNA</strong>, contenente la frequenza del aminoacido corrisponedete. Es se le frequnze sono a=0.20,c=0.30,g=0.10,t=0.40, e il DNA è del tipo “atgc…”, dovete creare l’array [0.2,0.4,0.1,0.3,…]</p></li>
<li><p>Create un array con la media mobile del array chiamato <strong>array_DNA</strong>. La media mobile è un array dove l’elemento in posizione i rappresenta la media degli elementi in posizione 0,1,2,..,i-1,i. Es se l’array in input è [1,1,4,5], l’array contenente le medie mobile è il seguente: [1,1,2,2.75] perche [1/1 = 1, (1+1)/2 = 1, (1+1+4)/3 = 2, (1+1+4+5)/4 = 2.75]</p></li>
</ol>
<p>In fine stampate i 4 risultati, un esempio di output del programma è il seguente:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">res1</span> <span class="n">freq</span> <span class="n">a</span> <span class="o">=</span> <span class="mf">0.28</span> <span class="n">freq</span> <span class="n">c</span> <span class="o">=</span> <span class="mf">0.27</span> <span class="n">freq</span> <span class="n">g</span> <span class="o">=</span> <span class="mf">0.22</span> <span class="n">freq</span> <span class="n">t</span> <span class="o">=</span> <span class="mf">0.23</span>
<span class="n">res2</span> <span class="n">aaaaaaaaaaaaaaaaaaaaaaaaaaaaccccccccccccccccccc</span><span class="o">....</span>
<span class="n">res3</span> <span class="p">[</span><span class="mf">0.23</span><span class="p">,</span> <span class="mf">0.28</span><span class="p">,</span> <span class="mf">0.23</span><span class="p">,</span> <span class="mf">0.27</span><span class="p">,</span> <span class="mf">0.23</span> <span class="o">...</span>
<span class="n">res4</span> <span class="p">[</span><span class="mf">0.23</span><span class="p">,</span> <span class="mf">0.255</span><span class="p">,</span> <span class="mf">0.24666666666666667</span><span class="p">,</span> <span class="mf">0.2525</span><span class="p">,</span> <span class="mf">0.248</span> <span class="o">....</span>
</pre></div>
</div>
<p><strong>L’esercizio è interamente risolvibile con quello cha abbiamo fatto fino a qui</strong></p>
</div>
<div class="section" id="soluzione">
<h2>Soluzione<a class="headerlink" href="#soluzione" title="Permalink to this headline">¶</a></h2>
<p>Definisco la variabile DNA copiando e incollando la stringa sopra:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DNA</span> <span class="o">=</span> <span class="s2">&quot;tatgtaaactgccaaggtgaacgttggaatcacctcgtatgtgactcgcgtgtgacctggatactgtcaaaccaggtcaggaaagcctatgagtacgagc&quot;</span>
</pre></div>
</div>
<p>per poter risolvere il punto 1 è sufficiente contare le sequenze con il metodo count delle stringhe,
e dividere per la lunghezza del DNA (len(DNA)):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f_a</span> <span class="o">=</span> <span class="n">DNA</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">DNA</span><span class="p">)</span>
<span class="n">f_c</span> <span class="o">=</span> <span class="n">DNA</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">DNA</span><span class="p">)</span>
<span class="n">f_g</span> <span class="o">=</span> <span class="n">DNA</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">DNA</span><span class="p">)</span>
<span class="n">f_t</span> <span class="o">=</span> <span class="n">DNA</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">DNA</span><span class="p">)</span>
</pre></div>
</div>
<p>per concludere stampo il res 1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;res1: &quot;</span><span class="p">,</span><span class="n">f_a</span><span class="p">,</span><span class="n">f_c</span><span class="p">,</span><span class="n">f_g</span><span class="p">,</span><span class="n">f_t</span><span class="p">)</span>
</pre></div>
</div>
<p>Per quanto riguarda il punto 2, devo poter ordianre la stringa. Per l’ordinamento noi abbiamo visto il sort un metodo degli array.
Quindi converto in array (con il list comprehension), ordino(con il metodo sort), e per finire ricreo la stringa (metodo join):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DNA_sort</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">DNA</span><span class="p">]</span>          <span class="c1"># converto la lista in stringa</span>
<span class="n">DNA_sort</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>                      <span class="c1"># ordino la lista</span>
<span class="n">string_dna_sort</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DNA_sort</span><span class="p">)</span>  <span class="c1"># riunisco la lista ordinata in una stringa</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;res2: &quot;</span><span class="p">,</span><span class="n">string_dna_sort</span><span class="p">)</span>      <span class="c1"># stampo la stringa</span>
</pre></div>
</div>
<p>Il punto 3 sembra essere un pò più complesso, ma in realtà è molto semplice. Posso usare il replace per sostituire gli aminoacidi
con le loro frequnze, io per semplicità ci ho aggiunto pure uno spazio vuoto (che mi servirà dopo per fare lo split!):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array_DNA</span> <span class="o">=</span> <span class="n">DNA</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">f_a</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">)</span>         <span class="c1"># replace di a con la sua freq</span>
<span class="n">array_DNA</span> <span class="o">=</span> <span class="n">array_DNA</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">f_c</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">)</span>   <span class="c1"># replace di a con la sua freq</span>
<span class="n">array_DNA</span> <span class="o">=</span> <span class="n">array_DNA</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">f_g</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">)</span>   <span class="c1"># replace di a con la sua freq</span>
<span class="n">array_DNA</span> <span class="o">=</span> <span class="n">array_DNA</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">f_t</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">)</span>   <span class="c1"># replace di a con la sua freq</span>
<span class="n">array_DNA</span> <span class="o">=</span> <span class="n">array_DNA</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>                  <span class="c1"># splitto la stringa e la trasformo in un array</span>
<span class="n">array_DNA</span> <span class="o">=</span> <span class="n">array_DNA</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                        <span class="c1"># rimuovo l&#39;ultimo elemento (perche è vuoto)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;res3: &quot;</span><span class="p">,</span><span class="n">array_DNA</span><span class="p">)</span>                         <span class="c1"># stampo il risultato</span>
</pre></div>
</div>
<p>In fine, per poter calcolare la media mobile, posso calcolare prima la somma degli elementi precedenti:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sum_array_DNA</span> <span class="o">=</span> <span class="p">[</span><span class="nb">sum</span><span class="p">(</span><span class="n">array_DNA</span><span class="p">[:</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">array_DNA</span><span class="p">))]</span>
</pre></div>
</div>
<p>in <strong>sum_array_DNA</strong> l’elemento i-esimo rappresenta la somma degli elementi dalla posizione 0 alla posizione i.
Successivamente, posso calcolare la media mobile, dividendo l’ i-esimo elemento di <strong>sum_array_DNA</strong> per i:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">media_mobile</span> <span class="o">=</span> <span class="p">[</span><span class="n">sum_array_DNA</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sum_array_DNA</span><span class="p">))]</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Luca Marchetti

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>