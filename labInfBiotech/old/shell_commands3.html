<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shell: Parte 3 &mdash; Laboratorio di Informatica a.a. 2025/2026 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=c6a1e152"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Laboratorio di Informatica
          </a>
              <div class="version">
                a.a. 2025/2026
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../shell_basics.html">Lezione 1 - Shell: Fondamentali</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell_basics_sol.html">Lezione 1 - Soluzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell_commands1.html">Lezione 2.1 - Shell: Avanzate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell_commands1_sol.html">Lezione 2.1 - Soluzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_basics.html">Lezione 2.2 - Python: Fondamentali</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_basics_sol.html">Lezione 2.2 - Soluzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_moduli.html">Lezione 3.1 - Python: Moduli</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_numbers.html">Lezione 3.2 - Python: Numeri</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_strings.html">Lezione 4 - Python: Stringhe</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Laboratorio di Informatica</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Shell: Parte 3</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/old/shell_commands3.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="shell-parte-3">
<h1>Shell: Parte 3<a class="headerlink" href="#shell-parte-3" title="Link to this heading"></a></h1>
<section id="wildcards-parte-2">
<h2>Wildcards, Parte 2<a class="headerlink" href="#wildcards-parte-2" title="Link to this heading"></a></h2>
<p>Le wildcard piu’ importanti sono:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>wildcard</p></th>
<th class="head"><p>fa <em>match</em> con</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">akz</span></code></p></td>
<td><p>il testo “<code class="docutils literal notranslate"><span class="pre">akz</span></code>”</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>una stringa qualunque (anche vuota)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">?</span></code></p></td>
<td><p>un carattere qualunque</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[akz]</span></code></p></td>
<td><p>un carattere solo tra <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">k</span></code> e <code class="docutils literal notranslate"><span class="pre">z</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[a-z]</span></code></p></td>
<td><p>un carattere alfabetico qualunque</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[0-9]</span></code></p></td>
<td><p>una cifra qualunque</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[!1b]</span></code></p></td>
<td><p>un carattere qualunque che non sia <code class="docutils literal notranslate"><span class="pre">1</span></code> o <code class="docutils literal notranslate"><span class="pre">b</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[!a-e]</span></code></p></td>
<td><p>un carattere qualunque che non sia <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, …, <code class="docutils literal notranslate"><span class="pre">e</span></code></p></td>
</tr>
</tbody>
</table>
<p>Quando la shell incontra un comando dove uno (o piu’) degli argomenti contiene
delle wildacrds, esegue la <em>wildcard expansion</em>: sostituisce all’argomento
incriminato tutti i file che fanno <em>match</em> con la wildcard.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Le wildcards sono simili alle regex, ma non sono la stessa cosa:</p>
<ol class="arabic simple">
<li><p>Le wildcards sono usate dalla shell per fare il match di <strong>percorsi</strong>.</p></li>
<li><p>Le regex sono usate da <code class="docutils literal notranslate"><span class="pre">grep</span></code> per fare il match di <strong>righe di testo</strong> contenute in un file.</p></li>
<li><p>Le regole che determinano il <em>match</em> di wildcards e regex sono diverse.</p></li>
</ol>
</div>
<hr class="docutils" />
<p><strong>Esempio</strong>. La wildcard:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">le</span> <span class="n">rose</span> <span class="n">sono</span> <span class="o">*</span><span class="n">se</span>
</pre></div>
</div>
<p>fa <em>match</em> con:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">le</span> <span class="n">rose</span> <span class="n">sono</span> <span class="n">rosse</span>
</pre></div>
</div>
<p>ma anche con:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">le</span> <span class="n">rose</span> <span class="n">sono</span> <span class="n">costose</span>
</pre></div>
</div>
<p>e:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">le</span> <span class="n">rose</span> <span class="n">sono</span> <span class="n">grosse</span>
</pre></div>
</div>
<p>ma non con:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="n">maneggi</span> <span class="n">abitano</span> <span class="ow">in</span> <span class="n">montagna</span>
</pre></div>
</div>
<p>Le wildcard possono essere combinate, ad esempio:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>test?[a-z][!0-9]
</pre></div>
</div>
<p>fa il <em>match</em> con tutti i percorsi che cominciano con <code class="docutils literal notranslate"><span class="pre">test</span></code>, proseguono con
un carattere qualunque, poi con un carattere alfabetico ed infine con un
carattere non numerico.</p>
<hr class="docutils" />
<p><strong>Esempio</strong>. Un esempio piu’ realistico. Il comando:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">data</span><span class="o">/</span><span class="n">dna</span><span class="o">-</span><span class="n">fasta</span><span class="o">/*.</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>
</pre></div>
</div>
<p>fa <em>match</em> con tutti i file nella directory <code class="docutils literal notranslate"><span class="pre">data/dna-fasta</span></code> il cui filename
e’ composto di una-stringa-qualunque, seguita da un punto, seguito da <code class="docutils literal notranslate"><span class="pre">1</span></code> o
<code class="docutils literal notranslate"><span class="pre">2</span></code> e nient’altro. Nel nostro caso i soli file a fare <em>match</em> sono:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">/</span><span class="n">dna</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="n">fasta</span><span class="mf">.1</span>
<span class="n">data</span><span class="o">/</span><span class="n">dna</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="n">fasta</span><span class="mf">.2</span>
</pre></div>
</div>
<p>Dopo la wildcard expansion il comando precedente diventa:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">data</span><span class="o">/</span><span class="n">dna</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="n">fasta</span><span class="mf">.1</span> <span class="n">data</span><span class="o">/</span><span class="n">dna</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="n">fasta</span><span class="mf">.2</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Esempio</strong>. Per stampare a schermo i contenuti della directory data, scrivo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="n">data</span>
</pre></div>
</div>
<p>Per stampare i contenuti delle <em>directory</em> che stanno in data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="n">data</span><span class="o">/*</span>
</pre></div>
</div>
<p>qui la wildcard <code class="docutils literal notranslate"><span class="pre">*</span></code> viene espansa in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aatable</span> <span class="n">deep0</span> <span class="o">...</span> <span class="n">deep4</span> <span class="n">dna</span><span class="o">-</span><span class="n">fasta</span> <span class="n">empty1</span> <span class="n">empty2</span> <span class="n">prot</span><span class="o">-</span><span class="n">fasta</span> <span class="n">prot</span><span class="o">-</span><span class="n">pdb</span> <span class="n">simple1</span>
</pre></div>
</div>
<p>Per stampare a schermo solo il contenuto delle directory <code class="docutils literal notranslate"><span class="pre">deep0</span></code>, …, <code class="docutils literal notranslate"><span class="pre">deep4</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="n">data</span><span class="o">/</span><span class="n">deep</span><span class="o">*</span>
</pre></div>
</div>
<p>Mentre per restringere la wildcard alle directory <code class="docutils literal notranslate"><span class="pre">deep0</span></code> e <code class="docutils literal notranslate"><span class="pre">deep3</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="n">data</span><span class="o">/</span><span class="n">deep</span><span class="p">[</span><span class="mi">03</span><span class="p">]</span>
</pre></div>
</div>
<p>e solo per le directory <code class="docutils literal notranslate"><span class="pre">deep0</span></code>, …, <code class="docutils literal notranslate"><span class="pre">deep4</span></code> ma non <code class="docutils literal notranslate"><span class="pre">deep2</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ls data/deep[!2]
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="esercizi">
<h2>Esercizi<a class="headerlink" href="#esercizi" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Cosa fa il comando:</dt><dd><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">*</span></code>?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">'*'</span></code>?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">data/simple1/*.txt</span></code>?</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>Stampare il contenuto dei file <code class="docutils literal notranslate"><span class="pre">.txt</span></code> in <code class="docutils literal notranslate"><span class="pre">data/simple1</span></code>.</p></li>
<li><p>Stampare il contenuto dei file <code class="docutils literal notranslate"><span class="pre">.abc</span></code> in <code class="docutils literal notranslate"><span class="pre">data/simple1</span></code>.</p></li>
<li><p>Concatenare il contenuto dei file <code class="docutils literal notranslate"><span class="pre">.txt</span></code> in <code class="docutils literal notranslate"><span class="pre">data/simple1</span></code> in un nuovo file <code class="docutils literal notranslate"><span class="pre">temp</span></code>.</p></li>
<li><p>Concatenare il contenuto dei file <code class="docutils literal notranslate"><span class="pre">.abc</span></code> in <code class="docutils literal notranslate"><span class="pre">data/simple1</span></code> ed aggiungerlo in coda a <code class="docutils literal notranslate"><span class="pre">temp</span></code>.</p></li>
<li><dl class="simple">
<dt>Tra i file in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>, trovare con <code class="docutils literal notranslate"><span class="pre">ls</span></code> quelli che:</dt><dd><ol class="arabic simple">
<li><p>Iniziano per una cifra.</p></li>
<li><p>Iniziano e finiscono per <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></li>
<li><p>Iniziano o finiscono per <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></li>
</ol>
</dd>
</dl>
</li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</section>
<section id="filtri">
<h2>Filtri<a class="headerlink" href="#filtri" title="Link to this heading"></a></h2>
<p>La shell mette a disposizione un numero di comandi che agiscono da <em>filtri</em>:
il loro scopo e’ permettervi di estrarre righe/colonne da file di testo,
ordinare i dati, sostituire caratteri, ed in generale calcolare statistiche
sui dati.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>comando</p></th>
<th class="head"><p>funzione</p></th>
<th class="head"><p>opzioni principali</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>wc</p></td>
<td><p>conta caratteri, parole e righe</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-m</span></code>, <code class="docutils literal notranslate"><span class="pre">-w</span></code>, <code class="docutils literal notranslate"><span class="pre">-l</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>sort</p></td>
<td><p>ordina righe</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-f</span></code>, <code class="docutils literal notranslate"><span class="pre">-n`,</span> <span class="pre">``-r</span></code></p></td>
</tr>
<tr class="row-even"><td><p>uniq</p></td>
<td><p>rimuove righe consecutive identiche</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-c</span></code>, <code class="docutils literal notranslate"><span class="pre">-d</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>cut</p></td>
<td><p>stampa una o piu’ colonne</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-d</span></code>, <code class="docutils literal notranslate"><span class="pre">-f</span></code></p></td>
</tr>
<tr class="row-even"><td><p>tr</p></td>
<td><p>traduce caratteri</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-d</span></code>, <code class="docutils literal notranslate"><span class="pre">-s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>grep</p></td>
<td><p>seleziona righe in base ad una <em>regex</em></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-E</span></code>, <code class="docutils literal notranslate"><span class="pre">-i</span></code>, <code class="docutils literal notranslate"><span class="pre">-v</span></code></p></td>
</tr>
</tbody>
</table>
<p>Vediamoli all’opera.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<hr class="docutils" />
<p><strong>Esempio</strong>. Creo un file con due righe di testo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="n">uno</span> <span class="o">&gt;</span> <span class="n">file</span><span class="p">;</span> <span class="n">echo</span> <span class="n">due</span> <span class="o">&gt;&gt;</span> <span class="n">file</span>
</pre></div>
</div>
<p>Controllo quante righe ho scritto:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wc</span> <span class="o">-</span><span class="n">l</span> <span class="n">file</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Esempio</strong>. Per contare il numero di righe di <code class="docutils literal notranslate"><span class="pre">data/numers.1</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wc</span> <span class="o">-</span><span class="n">l</span> <span class="n">data</span><span class="o">/</span><span class="n">numbers</span><span class="mf">.1</span>
</pre></div>
</div>
<p>Per contare quanti file e directory ci sono nella home:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">~</span> <span class="o">|</span> <span class="n">wc</span> <span class="o">-</span><span class="n">l</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Esempio</strong>. Concateniamo i file in <code class="docutils literal notranslate"><span class="pre">data/dna-fasta</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">data</span><span class="o">/</span><span class="n">dna</span><span class="o">-</span><span class="n">fasta</span><span class="o">/*</span> <span class="o">&gt;</span> <span class="n">all_fastas</span>
</pre></div>
</div>
<p>Vogliamo stampare le righe di <code class="docutils literal notranslate"><span class="pre">all_fastas</span></code> in ordine alfanumerico:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sort</span> <span class="n">all_fastas</span>
</pre></div>
</div>
<p>Ed ora vogliamo copiarle in un file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sort</span> <span class="n">all_fastas</span> <span class="o">&gt;</span> <span class="n">sorted_fastas</span>
</pre></div>
</div>
<p>Possiamo ottenere lo stesso effetto con una pipeline:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">data</span><span class="o">/</span><span class="n">dna</span><span class="o">-</span><span class="n">fasta</span><span class="o">/*</span> <span class="o">|</span> <span class="n">sort</span> <span class="o">&gt;</span> <span class="n">sorted_fastas</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Esempio</strong>. I file <code class="docutils literal notranslate"><span class="pre">data/numbers.1</span></code> e <code class="docutils literal notranslate"><span class="pre">data/numbers.2</span></code> contengono liste
di numeri. Vogliamo controllare se ci sono doppioni usando <code class="docutils literal notranslate"><span class="pre">uniq</span></code>.</p>
<p>C’e’ un problema: <code class="docutils literal notranslate"><span class="pre">uniq</span></code> trova solo doppioni <em>sequenziali</em>. Se lo applico
a questo testo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aaaa</span>
<span class="n">bbbb</span>
<span class="n">bbbb</span>
<span class="n">aaaa</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">uniq</span></code> riesce si’ a capire che <code class="docutils literal notranslate"><span class="pre">bbbb</span></code> e’ ripetuto, ma non ci riesce con
<code class="docutils literal notranslate"><span class="pre">aaaa</span></code>.</p>
<p>Quindi se voglio trovare <em>tutti</em> i doppioni indipendentemente dall’ordine in
cui si trovano nel file che mi interessa, devo prima usare <code class="docutils literal notranslate"><span class="pre">sort</span></code> per
avvicinare le righe identiche. Nel nostro caso, faccio:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sort</span> <span class="n">data</span><span class="o">/</span><span class="n">numbers</span><span class="mf">.1</span> <span class="o">&gt;</span> <span class="n">temp1</span>
<span class="n">sort</span> <span class="n">data</span><span class="o">/</span><span class="n">numbers</span><span class="mf">.2</span> <span class="o">&gt;</span> <span class="n">temp2</span>
<span class="n">uniq</span> <span class="o">-</span><span class="n">d</span> <span class="n">temp1</span>
<span class="n">uniq</span> <span class="o">-</span><span class="n">d</span> <span class="n">temp2</span>
</pre></div>
</div>
<p>Non ci sono ripetizioni nei singoli file. Ci sono forse doppioni nei file
presi assieme?</p>
<p>Siamo tentati di usare:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">temp</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">|</span> <span class="n">uniq</span> <span class="o">-</span><span class="n">d</span>
</pre></div>
</div>
<p>Pero’ non e’ detto che il concatenamento di due file ordinati produca un file
ordinato. Quindi usamo di nuovo <code class="docutils literal notranslate"><span class="pre">sort</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">temp</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">|</span> <span class="n">sort</span> <span class="o">|</span> <span class="n">uniq</span> <span class="o">-</span><span class="n">d</span>
</pre></div>
</div>
<p>Il numero <code class="docutils literal notranslate"><span class="pre">3</span></code> appare piu’ volte! Quante? Verifichiamo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">temp</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">|</span> <span class="n">sort</span> <span class="o">|</span> <span class="n">uniq</span> <span class="o">-</span><span class="n">d</span> <span class="o">-</span><span class="n">c</span>
</pre></div>
</div>
<p>Due volte. In alternativa:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">temp</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">|</span> <span class="n">sort</span> <span class="o">|</span> <span class="n">uniq</span> <span class="o">-</span><span class="n">d</span> <span class="o">|</span> <span class="n">wc</span> <span class="o">-</span><span class="n">l</span>
</pre></div>
</div>
<p>Provate a ripetere il codice costruendo incrementalemente la pipeline.</p>
<hr class="docutils" />
<p><strong>Esempio</strong>. Il comando <code class="docutils literal notranslate"><span class="pre">tr</span></code> permette di sostituire (tradurre) caratteri con
altri caratteri. Data una sequenza nucleotidica voglio sostituire tutte le
timine <code class="docutils literal notranslate"><span class="pre">T</span></code> con uracile <code class="docutils literal notranslate"><span class="pre">U</span></code>, scrivo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="n">TATAAA</span> <span class="o">|</span> <span class="n">tr</span> <span class="s1">&#39;T&#39;</span> <span class="s1">&#39;E&#39;</span>
</pre></div>
</div>
<p>Tra gli usi piu’ comuni di <code class="docutils literal notranslate"><span class="pre">tr</span></code>:</p>
<ul>
<li><p>Tradurre da maisucolo a minuscolo (e viceversa):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;voglio diventare grande!&#39;</span> <span class="o">|</span> <span class="n">tr</span> <span class="s1">&#39;a-z&#39;</span> <span class="s1">&#39;A-Z&#39;</span>
</pre></div>
</div>
</li>
<li><p>Sostituire i caratteri (nascosti) “a capo”, <code class="docutils literal notranslate"><span class="pre">\n</span></code>, con altri. Confrontate:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="n">data</span>
</pre></div>
</div>
<p>e:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="n">data</span> <span class="o">|</span> <span class="n">tr</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="s1">&#39;,&#39;</span>
</pre></div>
</div>
</li>
<li><p>Rimuovere ripetizioni di caratteri, con l’opzione <code class="docutils literal notranslate"><span class="pre">-s</span></code> (<em>squeeze</em>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;voglio     uno     spazio     solo!&#39;</span> <span class="o">|</span> <span class="n">tr</span> <span class="o">-</span><span class="n">s</span> <span class="s1">&#39; &#39;</span>
</pre></div>
</div>
</li>
<li><p>Rimuovere caratteri estranei con <code class="docutils literal notranslate"><span class="pre">-d</span></code>, ad esempio da una sequenza proteica:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;xixxxox sxxxonxxo uxxxxnaxx xxxxproxxxtxexxinxa&#39;</span> <span class="o">|</span> <span class="n">tr</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39; &#39;</span>
</pre></div>
</div>
</li>
</ul>
<hr class="docutils" />
<p><strong>Esempio</strong>. Il comando <code class="docutils literal notranslate"><span class="pre">cut</span></code> estrae <em>colonne</em> (non <em>righe</em>!) dallo <code class="docutils literal notranslate"><span class="pre">stdin</span></code>.
Ha due opzioni fondamentali (e poco opzionali):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-d</span></code> specifica il separatore: il carattere che separa le colonne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-f</span></code> specifica quali colonne (<em>fields</em>, campi) estrarre.</p></li>
</ul>
<p>Ad esempio, assumete di avere un file con questo testo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nome</span> <span class="n">cognome</span> <span class="n">anno</span><span class="o">-</span><span class="n">di</span><span class="o">-</span><span class="n">nascita</span>
<span class="n">Marco</span> <span class="n">Rossi</span> <span class="mi">1989</span>
<span class="n">Luisa</span> <span class="n">Bianchi</span> <span class="mi">1981</span>
<span class="n">Dante</span> <span class="n">Alighieri</span> <span class="mi">1265</span>
</pre></div>
</div>
<p>Qui le colonne sono separate da semplici spazi. Posso estrarre la colonna dei
nomi con:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39; &#39;</span> <span class="o">-</span><span class="n">f1</span> <span class="n">file</span>
</pre></div>
</div>
<p>e quella delle date con:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39; &#39;</span> <span class="o">-</span><span class="n">f3</span> <span class="n">file</span>
</pre></div>
</div>
<p>Se volessi estrarre solo i nomi saltando la prima riga:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tail</span> <span class="o">-</span><span class="n">n</span> <span class="o">+</span><span class="mi">2</span> <span class="n">file</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39; &#39;</span> <span class="o">-</span><span class="n">f1</span>
</pre></div>
</div>
<p>oppure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39; &#39;</span> <span class="o">-</span><span class="n">f1</span> <span class="n">file</span> <span class="o">|</span> <span class="n">tail</span> <span class="o">-</span><span class="n">n</span> <span class="o">+</span><span class="mi">2</span>
</pre></div>
</div>
<p>o ancora:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">file</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">...</span> <span class="o">|</span> <span class="n">tail</span> <span class="o">...</span>
</pre></div>
</div>
<p>Assumete che il file contenga:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nome</span><span class="p">,</span><span class="n">cognome</span><span class="p">,</span><span class="n">anno</span><span class="o">-</span><span class="n">di</span><span class="o">-</span><span class="n">nasciata</span><span class="p">,</span><span class="n">impatto</span><span class="o">-</span><span class="n">sui</span><span class="o">-</span><span class="n">posteri</span>
<span class="n">Dante</span><span class="p">,</span><span class="n">Alighieri</span><span class="p">,</span><span class="mi">1265</span><span class="p">,</span><span class="mi">9</span>
<span class="n">Marcel</span><span class="p">,</span><span class="n">Proust</span><span class="p">,</span><span class="mi">1871</span><span class="p">,</span><span class="mi">7</span>
<span class="n">Homer</span><span class="p">,</span><span class="n">Simpson</span><span class="p">,</span><span class="mi">1989</span><span class="p">,</span><span class="mi">10</span>
</pre></div>
</div>
<p>Qui la virgola funge da separatore. Per estrarre i cognomi, scrivo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tail</span> <span class="o">-</span><span class="n">n</span> <span class="o">+</span><span class="mi">2</span> <span class="n">file</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39;,&#39;</span> <span class="o">-</span><span class="n">f2</span>
</pre></div>
</div>
<p>Possiamo anche estrarre piu’ di una colonna, ad esempio nome, cognome e data
di nascita:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tail</span> <span class="o">-</span><span class="n">n</span> <span class="o">+</span><span class="mi">2</span> <span class="n">file</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39;,&#39;</span> <span class="o">-</span><span class="n">f1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span>
</pre></div>
</div>
<p>oppure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tail</span> <span class="o">-</span><span class="n">n</span> <span class="o">+</span><span class="mi">2</span> <span class="n">file</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39;,&#39;</span> <span class="o">-</span><span class="n">f1</span><span class="o">-</span><span class="mi">3</span>
</pre></div>
</div>
<p>Per estrarre nome, cognome e impatto:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tail</span> <span class="o">-</span><span class="n">n</span> <span class="o">+</span><span class="mi">2</span> <span class="n">file</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39;,&#39;</span> <span class="o">-</span><span class="n">f1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span>
</pre></div>
</div>
<p>Per estrarre tutte le colonne dall’anno in poi:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tail</span> <span class="o">-</span><span class="n">n</span> <span class="o">+</span><span class="mi">2</span> <span class="n">file</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39;,&#39;</span> <span class="o">-</span><span class="n">f3</span><span class="o">-</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id1">
<h2>Esercizi<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Confronta <code class="docutils literal notranslate"><span class="pre">wc</span> <span class="pre">A</span></code> e <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">A</span> <span class="pre">|</span> <span class="pre">wc</span></code>.</p></li>
<li><p>Confronta <code class="docutils literal notranslate"><span class="pre">wc</span> <span class="pre">-l</span> <span class="pre">A</span></code> e <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">A</span> <span class="pre">|</span> <span class="pre">tr</span> <span class="pre">'\n'</span> <span class="pre">'</span> <span class="pre">'</span> <span class="pre">|</span> <span class="pre">wc</span> <span class="pre">-w</span></code>.</p></li>
<li><p>Quanti file sono contenuti in <code class="docutils literal notranslate"><span class="pre">/usr/bin/</span></code>?</p></li>
<li><p>Stampare i file in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code> ordinati per dimensione, sia con <code class="docutils literal notranslate"><span class="pre">ls</span></code> da solo che con <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">|</span> <span class="pre">sort</span> <span class="pre">...</span></code>.</p></li>
<li><p>Stampare solo il file piu’ piccolo in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>.</p></li>
<li><p>Stampare i numeri in <code class="docutils literal notranslate"><span class="pre">data/numbers.1</span></code> e <code class="docutils literal notranslate"><span class="pre">data/numbers.2</span></code> ordinati dal piu’ piccolo al piu’ grande.</p></li>
<li><p>Stampare i numeri in <code class="docutils literal notranslate"><span class="pre">data/numbers.1</span></code> e <code class="docutils literal notranslate"><span class="pre">data/numbers.2</span></code> ordinati dal piu’ grande al piu’ piccolo.</p></li>
<li><p>Ci sono file doppi in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>?</p></li>
<li><p>Scrivere in <code class="docutils literal notranslate"><span class="pre">listaN.txt</span></code> la lista di tutti i file in <code class="docutils literal notranslate"><span class="pre">data/deepN</span></code>, per N=1,2,3.</p></li>
<li><p>Scrivere in <code class="docutils literal notranslate"><span class="pre">dataN.txt</span></code> i contenuti di tutti i file in <code class="docutils literal notranslate"><span class="pre">data/deepN</span></code>, per N=1,2,3.</p></li>
<li><p>Quante repliche dispari di <code class="docutils literal notranslate"><span class="pre">KrustyIlKlown</span></code> ci sono in <code class="docutils literal notranslate"><span class="pre">data/deep1</span></code>?</p></li>
<li><p>Cosa fa <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">ACAB</span> <span class="pre">|</span> <span class="pre">cut</span> <span class="pre">-dC</span> <span class="pre">-f2</span></code>? E <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">BACA</span> <span class="pre">|</span> <span class="pre">cut</span> <span class="pre">-dA</span> <span class="pre">-f1,2</span></code>?</p></li>
<li><p>Compara <code class="docutils literal notranslate"><span class="pre">wc</span> <span class="pre">-m</span> <span class="pre">A</span></code> e <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">A</span> <span class="pre">|</span> <span class="pre">wc</span> <span class="pre">|</span> <span class="pre">tr</span> <span class="pre">-s</span> <span class="pre">'</span> <span class="pre">'</span> <span class="pre">|</span> <span class="pre">cut</span> <span class="pre">-d'</span> <span class="pre">'</span> <span class="pre">-f4</span></code></p></li>
<li><p>Stampa i file in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code> ordinati per proprietario. (Si veda <code class="docutils literal notranslate"><span class="pre">-k</span></code> nel manuale di <code class="docutils literal notranslate"><span class="pre">sort</span></code>).</p></li>
<li><p>Come sopra, ma in ordine inverso. E’ necessario <code class="docutils literal notranslate"><span class="pre">tac</span></code>?</p></li>
<li><p>Stampare solo la dimensione del file piu’ piccolo in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>.</p></li>
<li><p>Stampare solo il nome del file piu’ grande in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>.</p></li>
<li><p>Ci sono file di dimensioni identiche in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>? Quanti?</p></li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</section>
<section id="espressioni-regolari-e-grep">
<h2>Espressioni regolari e <code class="docutils literal notranslate"><span class="pre">grep</span></code><a class="headerlink" href="#espressioni-regolari-e-grep" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">grep</span></code> serve per estrarre <em>righe</em> che combaciano con una data espressione
regolare: viene usato spesso per <em>filtrare</em> le righe di un file (o dello
<code class="docutils literal notranslate"><span class="pre">stdin</span></code>) alle quali siamo interessati, scartando tutte le altre.</p>
<p>La sintassi e’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="n">regex</span> <span class="n">file</span>
</pre></div>
</div>
<p>oppure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">file</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">regex</span>
</pre></div>
</div>
<p>Una lista (non esaustiva) delle <strong>regex estese</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Simbolo</p></th>
<th class="head"><p>Fa match con</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">testo</span></code></p></td>
<td><p>La stringa <code class="docutils literal notranslate"><span class="pre">testo</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.</span></code></p></td>
<td><p>Un carattere qualunque</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[abc]</span></code></p></td>
<td><p>Un carattere qualunque tra <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code> e <code class="docutils literal notranslate"><span class="pre">c</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[a-z]</span></code></p></td>
<td><p>Un carattere nell’intervallo <code class="docutils literal notranslate"><span class="pre">a</span></code>, …, <code class="docutils literal notranslate"><span class="pre">z</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[^abc]</span></code></p></td>
<td><p>Un carattere che <em>non</em> sia <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, o <code class="docutils literal notranslate"><span class="pre">c</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">$</span></code></p></td>
<td><p>La fine della riga (il carattere <code class="docutils literal notranslate"><span class="pre">\n</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></td>
<td><p>L’inizio della riga (il carattere dopo <code class="docutils literal notranslate"><span class="pre">\n</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">regex*</span></code></p></td>
<td><p>almeno zero ripetizioni di regex</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">regex+</span></code></p></td>
<td><p>almeno una ripetizione di regex</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">regex{n}</span></code></p></td>
<td><p>n ripetizioni di regex</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">regex{n,m}</span></code></p></td>
<td><p>tra le n e le m ripetizioni di regex</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(regex1|regex2)</span></code></p></td>
<td><p>regex1 oppure regex2</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Spesso useremo regex estese. Per fare in modo che <code class="docutils literal notranslate"><span class="pre">grep</span></code> le riconosca,
useremo l’opzione <code class="docutils literal notranslate"><span class="pre">-E</span></code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Le regex hanno alcuni caratteri speciali in comune con le wildcards.</p>
<p>Percio’ quando invochiamo <code class="docutils literal notranslate"><span class="pre">grep</span></code>, e’ necessario inibire i caratteri
speciali della regex usata, in modo che la shell non esegua la wildcard
expansion.</p>
<p>Il modo piu’ semplice di farlo e’ usare virgolette:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="s1">&#39;regex&#39;</span> <span class="n">file</span>
</pre></div>
</div>
<p>oppure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">file</span> <span class="o">|</span> <span class="n">grep</span> <span class="s1">&#39;regex&#39;</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<p>Opzioni principali di <code class="docutils literal notranslate"><span class="pre">grep</span></code>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>opzione</p></th>
<th class="head"><p>funzione</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-v</span></code></p></td>
<td><p>matching inverso</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span></code></p></td>
<td><p>mostra soltanto il pattern trovato</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-i</span></code></p></td>
<td><p>ignora distinzione maiuscole/minuscole</p></td>
</tr>
</tbody>
</table>
<p><strong>Esempio</strong>. Le seguenti regex combaciano con:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.*</span></code>, tutte le stringhe (anche la stringa vuota).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.+</span></code>, tutte le stringhe (ma non quella vuota).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">abc</span></code>, tutte le stringhe che <em>contengono</em> <code class="docutils literal notranslate"><span class="pre">abc</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[abc]</span></code>, tutte le stringhe che contengono almeno una tra <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, e <code class="docutils literal notranslate"><span class="pre">c</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^abc</span></code>, tutte le stringhe che iniziano per <code class="docutils literal notranslate"><span class="pre">abc</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">abc$</span></code>, tutte le stringhe che finiscono per <code class="docutils literal notranslate"><span class="pre">abc</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^abc$</span></code>, la sola stringa <code class="docutils literal notranslate"><span class="pre">abc</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^.*$</span></code>, tutte le stringhe terminate da un carattere di a capo <code class="docutils literal notranslate"><span class="pre">\n</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[a-z]</span></code>, tutte le stringhe che contengono almeno un carattere alfabetico minuscolo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^[A-Z</span> <span class="pre">]$</span></code>, tutte le stringhe che contengono solo caratteri alfabetici maiuscoli e spazi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^[01</span> <span class="pre">]{3+}$</span></code>, tutte le stringhe di almeno tre caratteri che rappresentano parole binarie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ant(onio|idiluviano)</span></code>, tutte stringhe che contengono <code class="docutils literal notranslate"><span class="pre">antonio</span></code> o <code class="docutils literal notranslate"><span class="pre">antidiluviano</span></code> (o entrambi).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^[</span> <span class="pre">,](X{10}|Y{10})[</span> <span class="pre">,]</span></code>, tutte le stringhe che iniziano con uno spazio o una virgola, seguito da dieci <code class="docutils literal notranslate"><span class="pre">X</span></code> o dieci <code class="docutils literal notranslate"><span class="pre">Y</span></code>, seguiti da uno spazio o una virgola.</p></li>
</ul>
<hr class="docutils" />
<p><strong>Esempio</strong>. Per costruire regex che facciano <em>match</em> con caratteri speciali
(ad esempio il punto <code class="docutils literal notranslate"><span class="pre">.</span></code>), posso usare l’escaping o inserirli tra parentesi
quadre.  Ad esempio:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="s1">&#39;.&#39;</span> <span class="n">data</span><span class="o">/</span><span class="n">aatable</span>
</pre></div>
</div>
<p>estrae “tutte le righe che contengono almeno un carattere”, mentre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="s1">&#39;\.&#39;</span> <span class="n">data</span><span class="o">/</span><span class="n">aatable</span>
<span class="n">grep</span> <span class="s1">&#39;[.]&#39;</span> <span class="n">data</span><span class="o">/</span><span class="n">aatable</span>
</pre></div>
</div>
<p>estraggono “tutte le righe che contengono un punto”.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>L’opzione <code class="docutils literal notranslate"><span class="pre">--color</span></code> chiede a <code class="docutils literal notranslate"><span class="pre">grep</span></code> di colorare  il match.</p>
</div>
<hr class="docutils" />
<p><strong>Esempio</strong>. Prendiamo il file <code class="docutils literal notranslate"><span class="pre">1A34.fasta</span></code> da <a class="reference external" href="http://www.rcsb.org/pdb/explore/explore.do?structureId=1a34">qui</a>.
Contiene la sequenza aminoacidica delle tre catene della proteina 1A34:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="mi">1</span><span class="n">A34</span><span class="p">:</span><span class="n">A</span><span class="o">|</span><span class="n">PDBID</span><span class="o">|</span><span class="n">CHAIN</span><span class="o">|</span><span class="n">SEQUENCE</span>
<span class="n">MGRGKVKPNRKSTGDNSNVVTMIRAGSYPKVNPTPT</span>
<span class="n">WVRAIPFEVSVQSGIAFKVPVGSLFSANFRTDSFTS</span>
<span class="n">VTVMSVRAWTQLTPPVNEYSFVRLKPLFKTGDSTEE</span>
<span class="n">FEGRASNINTRASVGYRIPTNLRQNTVAADNVCEVR</span>
<span class="n">SNCRQVALVISCCFN</span>
<span class="o">&gt;</span><span class="mi">1</span><span class="n">A34</span><span class="p">:</span><span class="n">B</span><span class="o">|</span><span class="n">PDBID</span><span class="o">|</span><span class="n">CHAIN</span><span class="o">|</span><span class="n">SEQUENCE</span>
<span class="n">AAAAAAAAAA</span>
<span class="o">&gt;</span><span class="mi">1</span><span class="n">A34</span><span class="p">:</span><span class="n">C</span><span class="o">|</span><span class="n">PDBID</span><span class="o">|</span><span class="n">CHAIN</span><span class="o">|</span><span class="n">SEQUENCE</span>
<span class="n">UUUUUUUUUU</span>
</pre></div>
</div>
<p>Ogni catena compare come un’intestazione (o <em>header</em>) che comincia col
carattere <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, seguita dalla sequenza vera e propria.</p>
<p>Per estrarre le intestazioni, sfrutto il fatto che cominciano per <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="s1">&#39;&gt;&#39;</span> <span class="mi">1</span><span class="n">A34</span><span class="o">.</span><span class="n">fasta</span>
</pre></div>
</div>
<p>Il risultato e’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="mi">1</span><span class="n">A34</span><span class="p">:</span><span class="n">A</span><span class="o">|</span><span class="n">PDBID</span><span class="o">|</span><span class="n">CHAIN</span><span class="o">|</span><span class="n">SEQUENCE</span>
<span class="o">&gt;</span><span class="mi">1</span><span class="n">A34</span><span class="p">:</span><span class="n">B</span><span class="o">|</span><span class="n">PDBID</span><span class="o">|</span><span class="n">CHAIN</span><span class="o">|</span><span class="n">SEQUENCE</span>
<span class="o">&gt;</span><span class="mi">1</span><span class="n">A34</span><span class="p">:</span><span class="n">C</span><span class="o">|</span><span class="n">PDBID</span><span class="o">|</span><span class="n">CHAIN</span><span class="o">|</span><span class="n">SEQUENCE</span>
</pre></div>
</div>
<p>Ancora meglio, costringo <code class="docutils literal notranslate"><span class="pre">grep</span></code> a cercare <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> all’inizio della riga (e non,
ad esempio, nel bel mezzo di una sequenza proteica):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="s1">&#39;^&gt;&#39;</span> <span class="mi">1</span><span class="n">A34</span><span class="o">.</span><span class="n">fasta</span>
</pre></div>
</div>
<p>Per estrarre invece le sequenze:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="o">-</span><span class="n">v</span> <span class="s1">&#39;^[^&gt;]&#39;</span> <span class="mi">1</span><span class="n">A34</span><span class="o">.</span><span class="n">fasta</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Esempio</strong>. Se siamo interessati a scoprire se, tra le catene in
<code class="docutils literal notranslate"><span class="pre">data/prot-fasta/</span></code> quali contengono la sequenza “<code class="docutils literal notranslate"><span class="pre">DP</span></code>” (leggi: acido
aspartico seguito da prolina):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="n">DP</span> <span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/*.</span><span class="n">fasta</span>
</pre></div>
</div>
<p>Il risultato e’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J00</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">FVIDADHEHIAIKEANNLGIPV</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J00</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">PRRRVIGQRKILPDPKFGSELL</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J00</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">SMQDPIADMLTRIRNGQAANKA</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J01</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">AKGIREKIKLVSSAGTGHFYTT</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J01</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">EYDPNRSANIALVLYKDGERRY</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J01</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">ARNLHKVDVRDATGIDPVSLIA</span><span class="o">...</span>
</pre></div>
</div>
<p>Quindi si’, abbiamo risposto alla nostra domanda: ci sono ben due proteine
(<code class="docutils literal notranslate"><span class="pre">3F00</span></code> e <code class="docutils literal notranslate"><span class="pre">3J01</span></code>) che includono il pattern “<code class="docutils literal notranslate"><span class="pre">DP</span></code>”.</p>
<p>Per controllare di non avere mai fatto match con le intestazioni, scrivo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="n">DP</span> <span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/*.</span><span class="n">fasta</span> <span class="o">|</span> <span class="n">grep</span> <span class="s1">&#39;^&gt;&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">grep</span></code> non stampa niente, percio’ non abbiamo mai tenuto intestazioni. Bene.
Per evitare sorprese, possiamo filtrare via le intestazioni a priori con:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="o">-</span><span class="n">v</span> <span class="n">DP</span> <span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/*.</span><span class="n">fasta</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">v</span> <span class="s1">&#39;^&gt;&#39;</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Esempio</strong>. Costruiamo una pipeline complessa.</p>
<p>Dato l’output di <code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">DP</span> <span class="pre">...</span></code>, voglio stampare il nome delle proteine che
contengono la sequenza <code class="docutils literal notranslate"><span class="pre">DP</span></code>. L’output di <code class="docutils literal notranslate"><span class="pre">grep</span></code> era:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J00</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">FVIDADHEHIAIKEANNLGIPV</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J00</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">PRRRVIGQRKILPDPKFGSELL</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J00</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">SMQDPIADMLTRIRNGQAANKA</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J01</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">AKGIREKIKLVSSAGTGHFYTT</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J01</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">EYDPNRSANIALVLYKDGERRY</span><span class="o">...</span>
<span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/</span><span class="mi">3</span><span class="n">J01</span><span class="o">.</span><span class="n">fasta</span><span class="p">:</span><span class="n">ARNLHKVDVRDATGIDPVSLIA</span><span class="o">...</span>
</pre></div>
</div>
<p>Usiamo <code class="docutils literal notranslate"><span class="pre">cut</span></code> per tagliare la colonna dei nomi dei file (che contiene <code class="docutils literal notranslate"><span class="pre">3J00</span></code>
e <code class="docutils literal notranslate"><span class="pre">3J01</span></code>). Come prima cosa, uniformiamo i delimitatori con <code class="docutils literal notranslate"><span class="pre">tr</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="n">DP</span> <span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/*.</span><span class="n">fasta</span> <span class="o">|</span> <span class="n">tr</span> <span class="s1">&#39;/.&#39;</span> <span class="s1">&#39; &#39;</span>
</pre></div>
</div>
<p>ottenendo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="n">prot</span><span class="o">-</span><span class="n">fasta</span> <span class="mi">3</span><span class="n">J00</span> <span class="n">fasta</span><span class="p">:</span><span class="n">FVIDADHEHIAIKEANNLGIPV</span><span class="o">...</span>
<span class="n">data</span> <span class="n">prot</span><span class="o">-</span><span class="n">fasta</span> <span class="mi">3</span><span class="n">J00</span> <span class="n">fasta</span><span class="p">:</span><span class="n">PRRRVIGQRKILPDPKFGSELL</span><span class="o">...</span>
<span class="n">data</span> <span class="n">prot</span><span class="o">-</span><span class="n">fasta</span> <span class="mi">3</span><span class="n">J00</span> <span class="n">fasta</span><span class="p">:</span><span class="n">SMQDPIADMLTRIRNGQAANKA</span><span class="o">...</span>
<span class="n">data</span> <span class="n">prot</span><span class="o">-</span><span class="n">fasta</span> <span class="mi">3</span><span class="n">J01</span> <span class="n">fasta</span><span class="p">:</span><span class="n">AKGIREKIKLVSSAGTGHFYTT</span><span class="o">...</span>
<span class="n">data</span> <span class="n">prot</span><span class="o">-</span><span class="n">fasta</span> <span class="mi">3</span><span class="n">J01</span> <span class="n">fasta</span><span class="p">:</span><span class="n">EYDPNRSANIALVLYKDGERRY</span><span class="o">...</span>
<span class="n">data</span> <span class="n">prot</span><span class="o">-</span><span class="n">fasta</span> <span class="mi">3</span><span class="n">J01</span> <span class="n">fasta</span><span class="p">:</span><span class="n">ARNLHKVDVRDATGIDPVSLIA</span><span class="o">...</span>
</pre></div>
</div>
<p>Ora uso <code class="docutils literal notranslate"><span class="pre">cut</span></code> per tenere solo la colonna giusta:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="n">DP</span> <span class="n">data</span><span class="o">/</span><span class="n">prot</span><span class="o">-</span><span class="n">fasta</span><span class="o">/*.</span><span class="n">fasta</span> <span class="o">|</span> <span class="n">tr</span> <span class="s1">&#39;./&#39;</span> <span class="s1">&#39; &#39;</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39; &#39;</span> <span class="o">-</span><span class="n">f3</span>
</pre></div>
</div>
<p>ottenendo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">J00</span>
<span class="mi">3</span><span class="n">J00</span>
<span class="mi">3</span><span class="n">J00</span>
<span class="mi">3</span><span class="n">J01</span>
<span class="mi">3</span><span class="n">J01</span>
<span class="mi">3</span><span class="n">J01</span>
</pre></div>
</div>
<p>A questo punto uso <code class="docutils literal notranslate"><span class="pre">sort</span></code> e <code class="docutils literal notranslate"><span class="pre">uniq</span></code> per rimuovere le ripetizioni:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="o">...</span> <span class="o">|</span> <span class="n">tr</span> <span class="s1">&#39;/.&#39;</span> <span class="s1">&#39; &#39;</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39; &#39;</span> <span class="o">-</span><span class="n">f3</span> <span class="o">|</span> <span class="n">sort</span> <span class="o">|</span> <span class="n">uniq</span>
</pre></div>
</div>
<p>ottenendo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">J00</span>
<span class="mi">3</span><span class="n">J01</span>
</pre></div>
</div>
<p>In alterantiva posso invocare <code class="docutils literal notranslate"><span class="pre">cut</span></code> due volte:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="n">DP</span> <span class="o">...</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39;/&#39;</span> <span class="o">-</span><span class="n">f3</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39;.&#39;</span> <span class="o">-</span><span class="n">f1</span> <span class="o">|</span> <span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ci sono molti comandi utilissimi che non fanno parte del corso. Per chi
fosse interessato, una lista dei piu’ importanti:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">paste</span></code>, il contrario di <code class="docutils literal notranslate"><span class="pre">cut</span></code>: concatena colonne orizzontalmente.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rev</span></code>, stampa una riga dalla fine all’inizio.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sed</span></code>, permette di rimuovere o sostituire intere stringhe – un <code class="docutils literal notranslate"><span class="pre">tr</span></code> molto piu’ potente</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">awk</span></code>, permette manipolazioni arbitrariamente complesse, ad esempio di fare aritmetica</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bc</span></code>, un calcolatore</p></li>
<li><p>e molti, molti altri ancora…</p></li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="id2">
<h2>Esercizi<a class="headerlink" href="#id2" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><dl class="simple">
<dt>Cosa significano le seguenti regex (se valide)?</dt><dd><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[09]{2}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[0-9]{2}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[[]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^.3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^.{3}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.{3}$</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AA</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^AA$</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aA</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[aA]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">word</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w..d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^$</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[}{]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[0-9]+</span></code></p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Scrivere una regex che facciano <em>match</em> con:</dt><dd><ol class="arabic simple">
<li><p>Tutti i caratteri alfanumerici, maiuscoli e minuscoli</p></li>
<li><p>Le righe contenenti solo spazi</p></li>
<li><p>Le righe che contengono punti esclamativi o punti interrogativi</p></li>
<li><p>I giorni della settimana (nel modo piu’ compatto possibile) Senza lettere accentate. La shell non le digerisce.</p></li>
<li><p>Le parole di radice <code class="docutils literal notranslate"><span class="pre">frazion</span></code>-, ad esempio: frazione, frazionario, <em>etc.</em></p></li>
<li><p>I multipli di 10, i multipli di 5, i numeri dispari</p></li>
<li><p>I numeri razionali come frazione, ad esempio: p/q</p></li>
<li><p>I numeri razionali in notazione decimale, ad esempio: 1.34, .99, 17., 3</p></li>
<li><p>I numeri razionali in notazione scientifica, ad esempio: 1.34e10, 1.34e-10</p></li>
<li><p>Le somme (esempio: a+b+c+d, a+b, <em>etc.</em>) di lunghezza arbitraria, dove a, b, c, … sono numeri interi</p></li>
<li><p>Le somme di due moltiplicazioni, cose come: (2 * 3 * 2) + (5 * 7), (6 * 2) + (4 * 3), <em>etc.</em></p></li>
</ol>
</dd>
</dl>
</li>
<li><dl>
<dt>Sequenze fasta:</dt><dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Nei prossimi esercizi faremo uso di questo file <code class="docutils literal notranslate"><span class="pre">sequences.fasta</span></code>:</p>
<blockquote>
<div><p><a class="reference external" href="https://drive.google.com/open?id=0B0wILN942aEVcXhqZFlGdTh0U3c">https://drive.google.com/open?id=0B0wILN942aEVcXhqZFlGdTh0U3c</a></p>
</div></blockquote>
<p>Gli esercizi chiedono di contare quante sequenze nel file FASTA contengono
(o meno) contengono un motivo data. Il motivo puo’ essere naturalmente
espresso da una (o piu’) regex.</p>
<ul class="simple">
<li><p>Quando scrivo “residuo1; residuo2; residuo3” intendo “residuo1; seguito
nella sequenza da residuo2; seguito da residuo3”. Ometto i vari “seguito da”
per compattezza.</p></li>
<li><p>Quando scrivo “un aminoacido qualunque”, intendo un carattere qualunque,
per semplicita’.</p></li>
</ul>
<p>Per contare quante sequenze, si consiglia l’uso di <code class="docutils literal notranslate"><span class="pre">wc</span></code> in pipe con
<code class="docutils literal notranslate"><span class="pre">grep</span></code>.</p>
</div>
<ol class="arabic">
<li><p>Calcolare quante sequenze contengono i seguenti motivi:</p>
<ul class="simple">
<li><p>Una fenilalanina (F); due aminoacidi arbitrari; un’altra fenilalanina.
Il motivo deve apparire alla fine della sequenza.</p></li>
<li><p>Una arginina (R); una fenilalanina; un aminoacido che non e’ una prolina
(P); una isoleucina (I) oppure una valina (V).</p></li>
<li><p>Calcolare inoltre quante sequenze includono almeno uno dei due motivi.</p></li>
</ul>
</li>
<li><p>Calcolare quante sequenze contengono i seguenti motivi:</p>
<ul class="simple">
<li><p>Tre tirosine (Y); al piu’ tre amino acidi qualunque; una istidina (H).</p></li>
<li><p>Un aminoacido non standard o un residuo sconosciuto X.</p></li>
<li><p>Ci sono sequenze che soddisfano entrambe le condizioni?</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Gli aminoacidi standard sono: A R N D C E Q G H I L K M F P S T W Y V.</p>
</div>
</li>
<li><p>Calcolare quante sequenze contengono i seguenti motivi:</p>
<ul class="simple">
<li><p>Un arginina (R); una lisina (K). Il motivo non deve apparire all’inizio
della sequenza.</p></li>
<li><p>Due arginine seguite da un amino acido che non sia ne’ una arginina, ne’
una lisina.</p></li>
<li><p>Nessuno dei due motivi precedenti.</p></li>
</ul>
</li>
<li><p>Clacolare quante sequenze contengono i seguenti motivi:</p>
<ul class="simple">
<li><p>Una fenilalanina (F); un aminoacido qualunque; una fenilalanina o una
tirosina (Y); una prolina (P).</p></li>
<li><p>Una prolina; una treonina (T) o una serina (S); una alanina (A); un’altra
prolina. Il motivo non deve apparire ne’ all’inizio, ne’ alla fine della
sequenza.</p></li>
<li><p>Il primo motivo seguito dal secondo, oppure il secondo seguito dal primo.</p></li>
</ul>
</li>
</ol>
</dd>
</dl>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Luca Marchetti.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>